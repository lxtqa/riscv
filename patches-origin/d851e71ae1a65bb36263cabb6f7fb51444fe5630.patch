From d851e71ae1a65bb36263cabb6f7fb51444fe5630 Mon Sep 17 00:00:00 2001
From: Lu Yahan <yahan@iscas.ac.cn>
Date: Sat, 6 Aug 2022 12:08:01 +0800
Subject: [PATCH] [riscv] Fix native build

Change-Id: I5d6636591912694cd0d0897f62c7ab56f0107b99
Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/3813425
Auto-Submit: Yahan Lu <yahan@iscas.ac.cn>
Commit-Queue: ji qiu <qiuji@iscas.ac.cn>
Reviewed-by: ji qiu <qiuji@iscas.ac.cn>
Cr-Commit-Position: refs/heads/main@{#82241}
---
 src/codegen/riscv/base-constants-riscv.cc | 2 ++
 1 file changed, 2 insertions(+)

diff --git a/src/codegen/riscv/base-constants-riscv.cc b/src/codegen/riscv/base-constants-riscv.cc
index 4e2b78d9f54..90d2c561584 100644
--- a/src/codegen/riscv/base-constants-riscv.cc
+++ b/src/codegen/riscv/base-constants-riscv.cc
@@ -229,7 +229,9 @@ uint32_t InstructionGetters<T>::Rvvuimm() const {
 }
 
 template class InstructionGetters<InstructionBase>;
+#ifdef USE_SIMULATOR
 template class InstructionGetters<SimInstructionBase>;
+#endif
 
 InstructionBase::Type InstructionBase::InstructionType() const {
   if (IsIllegalInstruction()) {
-- 
2.35.1

