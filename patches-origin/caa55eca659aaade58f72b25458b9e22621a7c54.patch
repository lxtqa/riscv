From caa55eca659aaade58f72b25458b9e22621a7c54 Mon Sep 17 00:00:00 2001
From: Lu Yahan <yahan@iscas.ac.cn>
Date: Tue, 24 May 2022 09:48:56 +0800
Subject: [PATCH] [riscv64] Implement emit_i8x16_relaxed_swizzle

Change-Id: Ie6c88a0e371b2ce0bfad6ac887168e08fce26c05
Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/3662541
Commit-Queue: ji qiu <qiuji@iscas.ac.cn>
Auto-Submit: Yahan Lu <yahan@iscas.ac.cn>
Reviewed-by: ji qiu <qiuji@iscas.ac.cn>
Cr-Commit-Position: refs/heads/main@{#80704}
---
 src/codegen/riscv64/assembler-riscv64.cc              | 1 -
 src/wasm/baseline/riscv64/liftoff-assembler-riscv64.h | 2 +-
 2 files changed, 1 insertion(+), 2 deletions(-)

diff --git a/src/codegen/riscv64/assembler-riscv64.cc b/src/codegen/riscv64/assembler-riscv64.cc
index 97ca6aa98c9..04923fd3fa6 100644
--- a/src/codegen/riscv64/assembler-riscv64.cc
+++ b/src/codegen/riscv64/assembler-riscv64.cc
@@ -2913,7 +2913,6 @@ uint8_t vsew_switch(VSew vsew) {
 
 void Assembler::vl(VRegister vd, Register rs1, uint8_t lumop, VSew vsew,
                    MaskType mask) {
-  std::cout << "vl" << std::endl;
   uint8_t width = vsew_switch(vsew);
   GenInstrV(LOAD_FP, width, vd, rs1, lumop, mask, 0b00, 0, 0b000);
 }
diff --git a/src/wasm/baseline/riscv64/liftoff-assembler-riscv64.h b/src/wasm/baseline/riscv64/liftoff-assembler-riscv64.h
index 74b7698de4f..770b6d72e1f 100644
--- a/src/wasm/baseline/riscv64/liftoff-assembler-riscv64.h
+++ b/src/wasm/baseline/riscv64/liftoff-assembler-riscv64.h
@@ -1940,7 +1940,7 @@ void LiftoffAssembler::emit_i8x16_swizzle(LiftoffRegister dst,
 void LiftoffAssembler::emit_i8x16_relaxed_swizzle(LiftoffRegister dst,
                                                   LiftoffRegister lhs,
                                                   LiftoffRegister rhs) {
-  bailout(kSimd, "emit_i8x16_relaxed_swizzle");
+  emit_i8x16_swizzle(dst, lhs, rhs);
 }
 
 void LiftoffAssembler::emit_s128_relaxed_laneselect(LiftoffRegister dst,
-- 
2.35.1

