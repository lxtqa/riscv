From b9f12bc8145bbe8a4e75da83bb53a59720efe4ee Mon Sep 17 00:00:00 2001
From: Lu Yahan <yahan@iscas.ac.cn>
Date: Wed, 23 Nov 2022 14:28:31 +0800
Subject: [PATCH] [riscv] Fix vector move

Change-Id: I25ccac320294e6ba6760a6be9a4cbc37150f2707
Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/4050268
Auto-Submit: Yahan Lu <yahan@iscas.ac.cn>
Reviewed-by: ji qiu <qiuji@iscas.ac.cn>
Commit-Queue: ji qiu <qiuji@iscas.ac.cn>
Cr-Commit-Position: refs/heads/main@{#84429}
---
 src/wasm/baseline/riscv/liftoff-assembler-riscv64.h | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/wasm/baseline/riscv/liftoff-assembler-riscv64.h b/src/wasm/baseline/riscv/liftoff-assembler-riscv64.h
index a04bd47790b..2168843a721 100644
--- a/src/wasm/baseline/riscv/liftoff-assembler-riscv64.h
+++ b/src/wasm/baseline/riscv/liftoff-assembler-riscv64.h
@@ -720,7 +720,7 @@ void LiftoffAssembler::Move(DoubleRegister dst, DoubleRegister src,
   if (kind != kS128) {
     TurboAssembler::Move(dst, src);
   } else {
-    TurboAssembler::vmv_vv(dst.toV(), dst.toV());
+    TurboAssembler::vmv_vv(dst.toV(), src.toV());
   }
 }
 
-- 
2.35.1

