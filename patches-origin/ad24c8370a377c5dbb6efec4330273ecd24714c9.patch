From ad24c8370a377c5dbb6efec4330273ecd24714c9 Mon Sep 17 00:00:00 2001
From: Lu Yahan <yahan@iscas.ac.cn>
Date: Wed, 29 Sep 2021 15:17:28 +0800
Subject: [PATCH] [riscv64] Delete extra define

Change-Id: Ieb986b9e17103ec24ca98a7ab44e7bef9caa6bfa
Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/3194013
Reviewed-by: ji qiu <qiuji@iscas.ac.cn>
Commit-Queue: ji qiu <qiuji@iscas.ac.cn>
Cr-Commit-Position: refs/heads/main@{#77136}
---
 src/codegen/riscv64/macro-assembler-riscv64.cc | 1 -
 src/codegen/riscv64/macro-assembler-riscv64.h  | 3 ---
 2 files changed, 4 deletions(-)

diff --git a/src/codegen/riscv64/macro-assembler-riscv64.cc b/src/codegen/riscv64/macro-assembler-riscv64.cc
index 90447ea939..342660bcc0 100644
--- a/src/codegen/riscv64/macro-assembler-riscv64.cc
+++ b/src/codegen/riscv64/macro-assembler-riscv64.cc
@@ -4479,7 +4479,6 @@ void TurboAssembler::SmiUntag(Register dst, const MemOperand& src) {
 }
 
 void TurboAssembler::SmiToInt32(Register smi) {
-  DCHECK(smi.Is64Bits());
   if (FLAG_enable_slow_asserts) {
     AssertSmi(smi);
   }
diff --git a/src/codegen/riscv64/macro-assembler-riscv64.h b/src/codegen/riscv64/macro-assembler-riscv64.h
index 321d578217..1dc4d2075c 100644
--- a/src/codegen/riscv64/macro-assembler-riscv64.h
+++ b/src/codegen/riscv64/macro-assembler-riscv64.h
@@ -1255,9 +1255,6 @@ class V8_EXPORT_PRIVATE MacroAssembler : public TurboAssembler {
   // Jump if the register contains a non-smi.
   void JumpIfNotSmi(Register value, Label* not_smi_label);
 
-  // Abort execution if argument is a smi, enabled via --debug-code.
-  void AssertNotSmi(Register object);
-  void AssertSmi(Register object);
 
   // Abort execution if argument is not a Constructor, enabled via --debug-code.
   void AssertConstructor(Register object);
-- 
2.35.1

