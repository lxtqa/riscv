From 8bac848777214332f44f5a5340385c1a81f39ac9 Mon Sep 17 00:00:00 2001
From: QiuJi <qiuji@iscas.ac.cn>
Date: Wed, 26 May 2021 11:37:39 +0800
Subject: [PATCH] [riscv64] Fix a typo in li_ptr

Change-Id: I12ed18a488584b144bec6b1c1cef7ab01d1b5ce8
Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/2917597
Commit-Queue: Brice Dobry <brice.dobry@futurewei.com>
Reviewed-by: Brice Dobry <brice.dobry@futurewei.com>
Cr-Commit-Position: refs/heads/master@{#74802}
---
 src/codegen/riscv64/assembler-riscv64.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/codegen/riscv64/assembler-riscv64.cc b/src/codegen/riscv64/assembler-riscv64.cc
index 9035482ed0f..69f65697d70 100644
--- a/src/codegen/riscv64/assembler-riscv64.cc
+++ b/src/codegen/riscv64/assembler-riscv64.cc
@@ -2593,7 +2593,7 @@ void Assembler::li_ptr(Register rd, int64_t imm) {
   // Pointers are 48 bits
   // 6 fixed instructions are generated
   DCHECK_EQ((imm & 0xfff0000000000000ll), 0);
-  int64_t a6 = imm & 0x3f;                      // bits 0:6. 6 bits
+  int64_t a6 = imm & 0x3f;                      // bits 0:5. 6 bits
   int64_t b11 = (imm >> 6) & 0x7ff;             // bits 6:11. 11 bits
   int64_t high_31 = (imm >> 17) & 0x7fffffff;   // 31 bits
   int64_t high_20 = ((high_31 + 0x800) >> 12);  // 19 bits
-- 
2.35.1

