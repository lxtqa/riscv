From f099ba84cfe259909a162dae18ff7f43e4eb1ada Mon Sep 17 00:00:00 2001
From: Lu Yahan <yahan@iscas.ac.cn>
Date: Thu, 23 Jun 2022 08:45:53 +0800
Subject: [PATCH] [riscv64]Fix about nan error

Change-Id: Ib606da34b76b28fd55811225de47e407a1ebd8ef
Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/3717551
Reviewed-by: ji qiu <qiuji@iscas.ac.cn>
Auto-Submit: Yahan Lu <yahan@iscas.ac.cn>
Commit-Queue: ji qiu <qiuji@iscas.ac.cn>
Cr-Commit-Position: refs/heads/main@{#81319}
---
 src/codegen/riscv64/macro-assembler-riscv64.cc | 2 +-
 1 file changed, 1 insertion(+), 1 deletion(-)

diff --git a/src/codegen/riscv64/macro-assembler-riscv64.cc b/src/codegen/riscv64/macro-assembler-riscv64.cc
index b82e2b06fb..04495c536f 100644
--- a/src/codegen/riscv64/macro-assembler-riscv64.cc
+++ b/src/codegen/riscv64/macro-assembler-riscv64.cc
@@ -3637,7 +3637,7 @@ void TurboAssembler::FPUCanonicalizeNaN(const DoubleRegister dst,
   if (IsDoubleZeroRegSet()) {
     fsub_d(dst, src, kDoubleRegZero);
   } else {
-    LoadFPRImmediate(kDoubleRegZero, 0.0f);
+    LoadFPRImmediate(kDoubleRegZero, 0.0);
     fsub_d(dst, src, kDoubleRegZero);
   }
 }
-- 
2.35.1

