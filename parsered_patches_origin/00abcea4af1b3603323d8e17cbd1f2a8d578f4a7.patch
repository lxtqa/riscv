From 00abcea4af1b3603323d8e17cbd1f2a8d578f4a7 Mon Sep 17 00:00:00 2001
From: Dan Elphick <delphick@chromium.org>
Date: Mon, 1 Mar 2021 12:14:54 +0000
Subject: [PATCH] [build] Create v8_internal_headers target

Split out all the headers from v8_compiler/v8_compiler_opt and
v8_base_without_compiler into v8_internal_headers since the headers
have inter-dependencies that otherwise make it impossible to satisfy gn
check.

Also adds new v8_header_set torque_runtime_support that exports
src/torque/runtime-support.h separately from the generated headers.

This reduces the number of gn check failures from 169 to 59.

Bug: v8:7330
Change-Id: Ie7ebc894910b7efa02011a74da964e11995c7f4f
Reviewed-on: https://chromium-review.googlesource.com/c/v8/v8/+/2712569
Commit-Queue: Dan Elphick <delphick@chromium.org>
Reviewed-by: Michael Achenbach <machenbach@chromium.org>
Reviewed-by: Jakob Gruber <jgruber@chromium.org>
Cr-Commit-Position: refs/heads/master@{#73104}
---
 BUILD.gn                     | 2083 ++++++++++++++++++----------------
 test/cctest/BUILD.gn         |    2 +-
 test/wasm-api-tests/BUILD.gn |    5 +-
 tools/debug_helper/BUILD.gn  |    1 +
 4 files changed, 1078 insertions(+), 1013 deletions(-)

diff --git a/BUILD.gn b/BUILD.gn
index aa5963a122..0f9cbf4a6d 100644
--- a/BUILD.gn
+++ b/BUILD.gn
@@ -1568,6 +1568,14 @@ group("v8_maybe_icu") {
   }
 }
 
+v8_header_set("torque_runtime_support") {
+  visibility = [ ":*" ]
+
+  sources = [ "src/torque/runtime-support.h" ]
+
+  configs = [ ":internal_config" ]
+}
+
 v8_source_set("torque_generated_initializers") {
   visibility = [ ":*" ]  # Only targets in this file can depend on this.
 
@@ -1577,14 +1585,16 @@ v8_source_set("torque_generated_initializers") {
     ":v8_tracing",
   ]
 
-  public_deps = [ ":v8_maybe_icu" ]
+  public_deps = [
+    ":torque_runtime_support",
+    ":v8_maybe_icu",
+  ]
 
   sources = [
     "$target_gen_dir/torque-generated/csa-types.h",
     "$target_gen_dir/torque-generated/enum-verifiers.cc",
     "$target_gen_dir/torque-generated/exported-macros-assembler.cc",
     "$target_gen_dir/torque-generated/exported-macros-assembler.h",
-    "src/torque/runtime-support.h",
   ]
   foreach(file, torque_files) {
     filetq = string_replace(file, ".tq", "-tq")
@@ -2173,335 +2183,13 @@ v8_header_set("v8_shared_internal_headers") {
   ]
 }
 
-v8_compiler_sources = [
-  ### gcmole(all) ###
-  "src/builtins/profile-data-reader.h",
-  "src/compiler/access-builder.cc",
-  "src/compiler/access-builder.h",
-  "src/compiler/access-info.cc",
-  "src/compiler/access-info.h",
-  "src/compiler/add-type-assertions-reducer.cc",
-  "src/compiler/add-type-assertions-reducer.h",
-  "src/compiler/all-nodes.cc",
-  "src/compiler/all-nodes.h",
-  "src/compiler/allocation-builder-inl.h",
-  "src/compiler/allocation-builder.h",
-  "src/compiler/backend/code-generator-impl.h",
-  "src/compiler/backend/code-generator.cc",
-  "src/compiler/backend/code-generator.h",
-  "src/compiler/backend/frame-elider.cc",
-  "src/compiler/backend/frame-elider.h",
-  "src/compiler/backend/gap-resolver.cc",
-  "src/compiler/backend/gap-resolver.h",
-  "src/compiler/backend/instruction-codes.h",
-  "src/compiler/backend/instruction-scheduler.cc",
-  "src/compiler/backend/instruction-scheduler.h",
-  "src/compiler/backend/instruction-selector-impl.h",
-  "src/compiler/backend/instruction-selector.cc",
-  "src/compiler/backend/instruction-selector.h",
-  "src/compiler/backend/instruction.cc",
-  "src/compiler/backend/instruction.h",
-  "src/compiler/backend/jump-threading.cc",
-  "src/compiler/backend/jump-threading.h",
-  "src/compiler/backend/mid-tier-register-allocator.cc",
-  "src/compiler/backend/mid-tier-register-allocator.h",
-  "src/compiler/backend/move-optimizer.cc",
-  "src/compiler/backend/move-optimizer.h",
-  "src/compiler/backend/register-allocation.h",
-  "src/compiler/backend/register-allocator-verifier.cc",
-  "src/compiler/backend/register-allocator-verifier.h",
-  "src/compiler/backend/register-allocator.cc",
-  "src/compiler/backend/register-allocator.h",
-  "src/compiler/backend/spill-placer.cc",
-  "src/compiler/backend/spill-placer.h",
-  "src/compiler/backend/unwinding-info-writer.h",
-  "src/compiler/basic-block-instrumentor.cc",
-  "src/compiler/basic-block-instrumentor.h",
-  "src/compiler/branch-elimination.cc",
-  "src/compiler/branch-elimination.h",
-  "src/compiler/bytecode-analysis.cc",
-  "src/compiler/bytecode-analysis.h",
-  "src/compiler/bytecode-graph-builder.cc",
-  "src/compiler/bytecode-graph-builder.h",
-  "src/compiler/bytecode-liveness-map.cc",
-  "src/compiler/bytecode-liveness-map.h",
-  "src/compiler/c-linkage.cc",
-  "src/compiler/checkpoint-elimination.cc",
-  "src/compiler/checkpoint-elimination.h",
-  "src/compiler/code-assembler.cc",
-  "src/compiler/code-assembler.h",
-  "src/compiler/common-node-cache.cc",
-  "src/compiler/common-node-cache.h",
-  "src/compiler/common-operator-reducer.cc",
-  "src/compiler/common-operator-reducer.h",
-  "src/compiler/common-operator.cc",
-  "src/compiler/common-operator.h",
-  "src/compiler/compilation-dependencies.cc",
-  "src/compiler/compilation-dependencies.h",
-  "src/compiler/compiler-source-position-table.cc",
-  "src/compiler/compiler-source-position-table.h",
-  "src/compiler/constant-folding-reducer.cc",
-  "src/compiler/constant-folding-reducer.h",
-  "src/compiler/control-equivalence.cc",
-  "src/compiler/control-equivalence.h",
-  "src/compiler/control-flow-optimizer.cc",
-  "src/compiler/control-flow-optimizer.h",
-  "src/compiler/csa-load-elimination.cc",
-  "src/compiler/csa-load-elimination.h",
-  "src/compiler/dead-code-elimination.cc",
-  "src/compiler/dead-code-elimination.h",
-  "src/compiler/decompression-optimizer.cc",
-  "src/compiler/decompression-optimizer.h",
-  "src/compiler/diamond.h",
-  "src/compiler/effect-control-linearizer.cc",
-  "src/compiler/effect-control-linearizer.h",
-  "src/compiler/escape-analysis-reducer.cc",
-  "src/compiler/escape-analysis-reducer.h",
-  "src/compiler/escape-analysis.cc",
-  "src/compiler/escape-analysis.h",
-  "src/compiler/feedback-source.cc",
-  "src/compiler/feedback-source.h",
-  "src/compiler/frame-states.cc",
-  "src/compiler/frame-states.h",
-  "src/compiler/frame.cc",
-  "src/compiler/frame.h",
-  "src/compiler/functional-list.h",
-  "src/compiler/globals.h",
-  "src/compiler/graph-assembler.cc",
-  "src/compiler/graph-assembler.h",
-  "src/compiler/graph-reducer.cc",
-  "src/compiler/graph-reducer.h",
-  "src/compiler/graph-trimmer.cc",
-  "src/compiler/graph-trimmer.h",
-  "src/compiler/graph-visualizer.cc",
-  "src/compiler/graph-visualizer.h",
-  "src/compiler/graph-zone-traits.h",
-  "src/compiler/graph.cc",
-  "src/compiler/graph.h",
-  "src/compiler/int64-lowering.cc",
-  "src/compiler/int64-lowering.h",
-  "src/compiler/js-call-reducer.cc",
-  "src/compiler/js-call-reducer.h",
-  "src/compiler/js-context-specialization.cc",
-  "src/compiler/js-context-specialization.h",
-  "src/compiler/js-create-lowering.cc",
-  "src/compiler/js-create-lowering.h",
-  "src/compiler/js-generic-lowering.cc",
-  "src/compiler/js-generic-lowering.h",
-  "src/compiler/js-graph.cc",
-  "src/compiler/js-graph.h",
-  "src/compiler/js-heap-broker.cc",
-  "src/compiler/js-heap-broker.h",
-  "src/compiler/js-heap-copy-reducer.cc",
-  "src/compiler/js-heap-copy-reducer.h",
-  "src/compiler/js-inlining-heuristic.cc",
-  "src/compiler/js-inlining-heuristic.h",
-  "src/compiler/js-inlining.cc",
-  "src/compiler/js-inlining.h",
-  "src/compiler/js-intrinsic-lowering.cc",
-  "src/compiler/js-intrinsic-lowering.h",
-  "src/compiler/js-native-context-specialization.cc",
-  "src/compiler/js-native-context-specialization.h",
-  "src/compiler/js-operator.cc",
-  "src/compiler/js-operator.h",
-  "src/compiler/js-type-hint-lowering.cc",
-  "src/compiler/js-type-hint-lowering.h",
-  "src/compiler/js-typed-lowering.cc",
-  "src/compiler/js-typed-lowering.h",
-  "src/compiler/linkage.cc",
-  "src/compiler/linkage.h",
-  "src/compiler/load-elimination.cc",
-  "src/compiler/load-elimination.h",
-  "src/compiler/loop-analysis.cc",
-  "src/compiler/loop-analysis.h",
-  "src/compiler/loop-peeling.cc",
-  "src/compiler/loop-peeling.h",
-  "src/compiler/loop-unrolling.cc",
-  "src/compiler/loop-unrolling.h",
-  "src/compiler/loop-variable-optimizer.cc",
-  "src/compiler/loop-variable-optimizer.h",
-  "src/compiler/machine-graph-verifier.cc",
-  "src/compiler/machine-graph-verifier.h",
-  "src/compiler/machine-graph.cc",
-  "src/compiler/machine-graph.h",
-  "src/compiler/machine-operator-reducer.cc",
-  "src/compiler/machine-operator-reducer.h",
-  "src/compiler/machine-operator.cc",
-  "src/compiler/machine-operator.h",
-  "src/compiler/map-inference.cc",
-  "src/compiler/map-inference.h",
-  "src/compiler/memory-lowering.cc",
-  "src/compiler/memory-lowering.h",
-  "src/compiler/memory-optimizer.cc",
-  "src/compiler/memory-optimizer.h",
-  "src/compiler/node-aux-data.h",
-  "src/compiler/node-cache.h",
-  "src/compiler/node-marker.cc",
-  "src/compiler/node-marker.h",
-  "src/compiler/node-matchers.cc",
-  "src/compiler/node-matchers.h",
-  "src/compiler/node-observer.cc",
-  "src/compiler/node-observer.h",
-  "src/compiler/node-origin-table.cc",
-  "src/compiler/node-origin-table.h",
-  "src/compiler/node-properties.cc",
-  "src/compiler/node-properties.h",
-  "src/compiler/node.cc",
-  "src/compiler/node.h",
-  "src/compiler/opcodes.cc",
-  "src/compiler/opcodes.h",
-  "src/compiler/operation-typer.cc",
-  "src/compiler/operation-typer.h",
-  "src/compiler/operator-properties.cc",
-  "src/compiler/operator-properties.h",
-  "src/compiler/operator.cc",
-  "src/compiler/operator.h",
-  "src/compiler/osr.cc",
-  "src/compiler/osr.h",
-  "src/compiler/per-isolate-compiler-cache.h",
-  "src/compiler/persistent-map.h",
-  "src/compiler/pipeline-statistics.cc",
-  "src/compiler/pipeline-statistics.h",
-  "src/compiler/pipeline.cc",
-  "src/compiler/pipeline.h",
-  "src/compiler/property-access-builder.cc",
-  "src/compiler/property-access-builder.h",
-  "src/compiler/raw-machine-assembler.cc",
-  "src/compiler/raw-machine-assembler.h",
-  "src/compiler/redundancy-elimination.cc",
-  "src/compiler/redundancy-elimination.h",
-  "src/compiler/refs-map.cc",
-  "src/compiler/refs-map.h",
-  "src/compiler/representation-change.cc",
-  "src/compiler/representation-change.h",
-  "src/compiler/schedule.cc",
-  "src/compiler/schedule.h",
-  "src/compiler/scheduled-machine-lowering.cc",
-  "src/compiler/scheduled-machine-lowering.h",
-  "src/compiler/scheduler.cc",
-  "src/compiler/scheduler.h",
-  "src/compiler/select-lowering.cc",
-  "src/compiler/select-lowering.h",
-  "src/compiler/serializer-for-background-compilation.cc",
-  "src/compiler/serializer-for-background-compilation.h",
-  "src/compiler/serializer-hints.h",
-  "src/compiler/simd-scalar-lowering.cc",
-  "src/compiler/simd-scalar-lowering.h",
-  "src/compiler/simplified-lowering.cc",
-  "src/compiler/simplified-lowering.h",
-  "src/compiler/simplified-operator-reducer.cc",
-  "src/compiler/simplified-operator-reducer.h",
-  "src/compiler/simplified-operator.cc",
-  "src/compiler/simplified-operator.h",
-  "src/compiler/state-values-utils.cc",
-  "src/compiler/state-values-utils.h",
-  "src/compiler/store-store-elimination.cc",
-  "src/compiler/store-store-elimination.h",
-  "src/compiler/type-cache.cc",
-  "src/compiler/type-cache.h",
-  "src/compiler/type-narrowing-reducer.cc",
-  "src/compiler/type-narrowing-reducer.h",
-  "src/compiler/typed-optimization.cc",
-  "src/compiler/typed-optimization.h",
-  "src/compiler/typer.cc",
-  "src/compiler/typer.h",
-  "src/compiler/types.cc",
-  "src/compiler/types.h",
-  "src/compiler/value-numbering-reducer.cc",
-  "src/compiler/value-numbering-reducer.h",
-  "src/compiler/verifier.cc",
-  "src/compiler/verifier.h",
-  "src/compiler/wasm-compiler.cc",
-  "src/compiler/wasm-compiler.h",
-  "src/compiler/write-barrier-kind.h",
-  "src/compiler/zone-stats.cc",
-  "src/compiler/zone-stats.h",
-]
-
-# The src/compiler files with optimizations.
-v8_source_set("v8_compiler_opt") {
-  visibility = [ ":*" ]  # Only targets in this file can depend on this.
-
-  sources = v8_compiler_sources
-
-  public_deps = [
-    ":generate_bytecode_builtins_list",
-    ":run_torque",
-    ":v8_maybe_icu",
-    ":v8_tracing",
-  ]
-
-  deps = [
-    ":v8_base_without_compiler",
-    ":v8_libbase",
-    ":v8_shared_internal_headers",
-  ]
-
-  if (is_debug && !v8_optimized_debug && v8_enable_fast_mksnapshot) {
-    # The :no_optimize config is added to v8_add_configs in v8.gni.
-    remove_configs = [ "//build/config/compiler:no_optimize" ]
-    configs = [ ":always_optimize" ]
-  } else {
-    # Without this else branch, gn fails to generate build files for non-debug
-    # builds (because we try to remove a config that is not present).
-    # So we include it, even if this config is not used outside of debug builds.
-    configs = [ ":internal_config" ]
-  }
-}
-
-# The src/compiler files with default optimization behavior.
-v8_source_set("v8_compiler") {
-  visibility = [ ":*" ]  # Only targets in this file can depend on this.
-
-  sources = v8_compiler_sources
-
-  public_deps = [
-    ":generate_bytecode_builtins_list",
-    ":run_torque",
-    ":v8_maybe_icu",
-    ":v8_tracing",
-  ]
-
-  deps = [
-    ":v8_base_without_compiler",
-    ":v8_libbase",
-    ":v8_shared_internal_headers",
-  ]
-
+v8_header_set("v8_internal_headers") {
   configs = [ ":internal_config" ]
-}
-
-group("v8_compiler_for_mksnapshot") {
-  if (is_debug && !v8_optimized_debug && v8_enable_fast_mksnapshot) {
-    deps = [ ":v8_compiler_opt" ]
-  } else {
-    deps = [ ":v8_compiler" ]
-  }
-}
-
-# Any target using trace events must directly or indirectly depend on
-# v8_tracing.
-group("v8_tracing") {
-  if (v8_use_perfetto) {
-    if (build_with_chromium) {
-      public_deps = [ "//third_party/perfetto:libperfetto" ]
-    } else {
-      public_deps = [ ":v8_libperfetto" ]
-    }
-  }
-}
-
-v8_source_set("v8_base_without_compiler") {
-  visibility = [ ":*" ]  # Only targets in this file can depend on this.
-
-  # Split static libraries on windows into two.
-  split_count = 2
 
   sources = [
-    "//base/trace_event/common/trace_event_common.h",
-
     ### gcmole(all) ###
     "$target_gen_dir/builtins-generated/bytecodes-builtins-list.h",
+    "//base/trace_event/common/trace_event_common.h",
     "include/cppgc/common.h",
     "include/v8-inspector-protocol.h",
     "include/v8-inspector.h",
@@ -2509,147 +2197,75 @@ v8_source_set("v8_base_without_compiler") {
     "include/v8-unwinder-state.h",
     "include/v8-wasm-trap-handler-posix.h",
     "src/api/api-arguments-inl.h",
-    "src/api/api-arguments.cc",
     "src/api/api-arguments.h",
     "src/api/api-inl.h",
     "src/api/api-macros.h",
-    "src/api/api-natives.cc",
     "src/api/api-natives.h",
-    "src/api/api.cc",
     "src/api/api.h",
-    "src/ast/ast-function-literal-id-reindexer.cc",
     "src/ast/ast-function-literal-id-reindexer.h",
     "src/ast/ast-source-ranges.h",
     "src/ast/ast-traversal-visitor.h",
-    "src/ast/ast-value-factory.cc",
     "src/ast/ast-value-factory.h",
-    "src/ast/ast.cc",
     "src/ast/ast.h",
-    "src/ast/modules.cc",
     "src/ast/modules.h",
-    "src/ast/prettyprinter.cc",
     "src/ast/prettyprinter.h",
-    "src/ast/scopes.cc",
     "src/ast/scopes.h",
-    "src/ast/source-range-ast-visitor.cc",
     "src/ast/source-range-ast-visitor.h",
-    "src/ast/variables.cc",
     "src/ast/variables.h",
     "src/baseline/baseline-assembler-inl.h",
     "src/baseline/baseline-assembler.h",
-    "src/baseline/baseline-compiler.cc",
     "src/baseline/baseline-compiler.h",
-    "src/baseline/baseline.cc",
     "src/baseline/baseline.h",
-    "src/builtins/accessors.cc",
     "src/builtins/accessors.h",
-    "src/builtins/builtins-api.cc",
-    "src/builtins/builtins-array.cc",
-    "src/builtins/builtins-arraybuffer.cc",
-    "src/builtins/builtins-async-module.cc",
-    "src/builtins/builtins-bigint.cc",
-    "src/builtins/builtins-callsite.cc",
-    "src/builtins/builtins-collections.cc",
-    "src/builtins/builtins-console.cc",
     "src/builtins/builtins-constructor.h",
-    "src/builtins/builtins-dataview.cc",
-    "src/builtins/builtins-date.cc",
     "src/builtins/builtins-definitions.h",
     "src/builtins/builtins-descriptors.h",
-    "src/builtins/builtins-error.cc",
-    "src/builtins/builtins-function.cc",
-    "src/builtins/builtins-global.cc",
-    "src/builtins/builtins-internal.cc",
-    "src/builtins/builtins-intl.cc",
-    "src/builtins/builtins-json.cc",
-    "src/builtins/builtins-number.cc",
-    "src/builtins/builtins-object.cc",
     "src/builtins/builtins-promise.h",
-    "src/builtins/builtins-reflect.cc",
-    "src/builtins/builtins-regexp.cc",
-    "src/builtins/builtins-sharedarraybuffer.cc",
-    "src/builtins/builtins-string.cc",
-    "src/builtins/builtins-symbol.cc",
-    "src/builtins/builtins-trace.cc",
-    "src/builtins/builtins-typed-array.cc",
     "src/builtins/builtins-utils-inl.h",
     "src/builtins/builtins-utils.h",
-    "src/builtins/builtins-weak-refs.cc",
-    "src/builtins/builtins.cc",
     "src/builtins/builtins.h",
-    "src/builtins/constants-table-builder.cc",
     "src/builtins/constants-table-builder.h",
     "src/builtins/profile-data-reader.h",
     "src/codegen/assembler-arch.h",
     "src/codegen/assembler-inl.h",
-    "src/codegen/assembler.cc",
     "src/codegen/assembler.h",
-    "src/codegen/bailout-reason.cc",
     "src/codegen/bailout-reason.h",
     "src/codegen/callable.h",
-    "src/codegen/code-comments.cc",
     "src/codegen/code-comments.h",
-    "src/codegen/code-desc.cc",
     "src/codegen/code-desc.h",
-    "src/codegen/code-factory.cc",
     "src/codegen/code-factory.h",
-    "src/codegen/code-reference.cc",
     "src/codegen/code-reference.h",
-    "src/codegen/compilation-cache.cc",
     "src/codegen/compilation-cache.h",
-    "src/codegen/compiler.cc",
     "src/codegen/compiler.h",
-    "src/codegen/constant-pool.cc",
     "src/codegen/constant-pool.h",
     "src/codegen/constants-arch.h",
     "src/codegen/cpu-features.h",
-    "src/codegen/external-reference-encoder.cc",
     "src/codegen/external-reference-encoder.h",
-    "src/codegen/external-reference-table.cc",
     "src/codegen/external-reference-table.h",
-    "src/codegen/external-reference.cc",
     "src/codegen/external-reference.h",
-    "src/codegen/flush-instruction-cache.cc",
     "src/codegen/flush-instruction-cache.h",
-    "src/codegen/handler-table.cc",
     "src/codegen/handler-table.h",
-    "src/codegen/interface-descriptors.cc",
     "src/codegen/interface-descriptors.h",
     "src/codegen/label.h",
-    "src/codegen/machine-type.cc",
     "src/codegen/machine-type.h",
     "src/codegen/macro-assembler-inl.h",
     "src/codegen/macro-assembler.h",
-    "src/codegen/optimized-compilation-info.cc",
     "src/codegen/optimized-compilation-info.h",
-    "src/codegen/pending-optimization-table.cc",
     "src/codegen/pending-optimization-table.h",
     "src/codegen/register-arch.h",
-    "src/codegen/register-configuration.cc",
     "src/codegen/register-configuration.h",
-    "src/codegen/register.cc",
     "src/codegen/register.h",
     "src/codegen/reglist.h",
-    "src/codegen/reloc-info.cc",
     "src/codegen/reloc-info.h",
-    "src/codegen/safepoint-table.cc",
     "src/codegen/safepoint-table.h",
     "src/codegen/signature.h",
-    "src/codegen/source-position-table.cc",
     "src/codegen/source-position-table.h",
-    "src/codegen/source-position.cc",
     "src/codegen/source-position.h",
-    "src/codegen/string-constants.cc",
     "src/codegen/string-constants.h",
-    "src/codegen/tick-counter.cc",
     "src/codegen/tick-counter.h",
-    "src/codegen/tnode.cc",
     "src/codegen/tnode.h",
-    "src/codegen/turbo-assembler.cc",
     "src/codegen/turbo-assembler.h",
-    "src/codegen/unoptimized-compilation-info.cc",
     "src/codegen/unoptimized-compilation-info.h",
-    "src/common/assert-scope.cc",
     "src/common/assert-scope.h",
     "src/common/checks.h",
     "src/common/external-pointer-inl.h",
@@ -2657,399 +2273,362 @@ v8_source_set("v8_base_without_compiler") {
     "src/common/message-template.h",
     "src/common/ptr-compr-inl.h",
     "src/common/ptr-compr.h",
-    "src/compiler-dispatcher/compiler-dispatcher.cc",
     "src/compiler-dispatcher/compiler-dispatcher.h",
-    "src/compiler-dispatcher/optimizing-compile-dispatcher.cc",
     "src/compiler-dispatcher/optimizing-compile-dispatcher.h",
-    "src/date/date.cc",
+    "src/compiler/all-nodes.h",
+    "src/compiler/allocation-builder-inl.h",
+    "src/compiler/allocation-builder.h",
+    "src/compiler/backend/code-generator-impl.h",
+    "src/compiler/backend/code-generator.h",
+    "src/compiler/backend/frame-elider.h",
+    "src/compiler/backend/gap-resolver.h",
+    "src/compiler/backend/instruction-codes.h",
+    "src/compiler/backend/instruction-scheduler.h",
+    "src/compiler/backend/instruction-selector-impl.h",
+    "src/compiler/backend/instruction-selector.h",
+    "src/compiler/backend/instruction.h",
+    "src/compiler/backend/jump-threading.h",
+    "src/compiler/backend/mid-tier-register-allocator.h",
+    "src/compiler/backend/move-optimizer.h",
+    "src/compiler/backend/register-allocation.h",
+    "src/compiler/backend/register-allocator-verifier.h",
+    "src/compiler/backend/register-allocator.h",
+    "src/compiler/backend/spill-placer.h",
+    "src/compiler/backend/unwinding-info-writer.h",
+    "src/compiler/basic-block-instrumentor.h",
+    "src/compiler/branch-elimination.h",
+    "src/compiler/bytecode-analysis.h",
+    "src/compiler/bytecode-graph-builder.h",
+    "src/compiler/bytecode-liveness-map.h",
+    "src/compiler/checkpoint-elimination.h",
+    "src/compiler/code-assembler.h",
+    "src/compiler/common-node-cache.h",
+    "src/compiler/common-operator-reducer.h",
+    "src/compiler/common-operator.h",
+    "src/compiler/compilation-dependencies.h",
+    "src/compiler/compiler-source-position-table.h",
+    "src/compiler/constant-folding-reducer.h",
+    "src/compiler/control-equivalence.h",
+    "src/compiler/control-flow-optimizer.h",
+    "src/compiler/csa-load-elimination.h",
+    "src/compiler/dead-code-elimination.h",
+    "src/compiler/decompression-optimizer.h",
+    "src/compiler/diamond.h",
+    "src/compiler/effect-control-linearizer.h",
+    "src/compiler/escape-analysis-reducer.h",
+    "src/compiler/escape-analysis.h",
+    "src/compiler/feedback-source.h",
+    "src/compiler/frame-states.h",
+    "src/compiler/frame.h",
+    "src/compiler/functional-list.h",
+    "src/compiler/globals.h",
+    "src/compiler/graph-assembler.h",
+    "src/compiler/graph-reducer.h",
+    "src/compiler/graph-trimmer.h",
+    "src/compiler/graph-visualizer.h",
+    "src/compiler/graph-zone-traits.h",
+    "src/compiler/graph.h",
+    "src/compiler/int64-lowering.h",
+    "src/compiler/js-call-reducer.h",
+    "src/compiler/js-context-specialization.h",
+    "src/compiler/js-create-lowering.h",
+    "src/compiler/js-generic-lowering.h",
+    "src/compiler/js-graph.h",
+    "src/compiler/js-heap-broker.h",
+    "src/compiler/js-heap-copy-reducer.h",
+    "src/compiler/js-inlining-heuristic.h",
+    "src/compiler/js-inlining.h",
+    "src/compiler/js-intrinsic-lowering.h",
+    "src/compiler/js-native-context-specialization.h",
+    "src/compiler/js-operator.h",
+    "src/compiler/js-type-hint-lowering.h",
+    "src/compiler/js-typed-lowering.h",
+    "src/compiler/linkage.h",
+    "src/compiler/load-elimination.h",
+    "src/compiler/loop-analysis.h",
+    "src/compiler/loop-peeling.h",
+    "src/compiler/loop-unrolling.h",
+    "src/compiler/loop-variable-optimizer.h",
+    "src/compiler/machine-graph-verifier.h",
+    "src/compiler/machine-graph.h",
+    "src/compiler/machine-operator-reducer.h",
+    "src/compiler/machine-operator.h",
+    "src/compiler/map-inference.h",
+    "src/compiler/memory-lowering.h",
+    "src/compiler/memory-optimizer.h",
+    "src/compiler/node-aux-data.h",
+    "src/compiler/node-cache.h",
+    "src/compiler/node-marker.h",
+    "src/compiler/node-matchers.h",
+    "src/compiler/node-observer.h",
+    "src/compiler/node-origin-table.h",
+    "src/compiler/node-properties.h",
+    "src/compiler/node.h",
+    "src/compiler/opcodes.h",
+    "src/compiler/operation-typer.h",
+    "src/compiler/operator-properties.h",
+    "src/compiler/operator.h",
+    "src/compiler/osr.h",
+    "src/compiler/per-isolate-compiler-cache.h",
+    "src/compiler/persistent-map.h",
+    "src/compiler/pipeline-statistics.h",
+    "src/compiler/pipeline.h",
+    "src/compiler/property-access-builder.h",
+    "src/compiler/raw-machine-assembler.h",
+    "src/compiler/redundancy-elimination.h",
+    "src/compiler/refs-map.h",
+    "src/compiler/representation-change.h",
+    "src/compiler/schedule.h",
+    "src/compiler/scheduled-machine-lowering.h",
+    "src/compiler/scheduler.h",
+    "src/compiler/select-lowering.h",
+    "src/compiler/serializer-for-background-compilation.h",
+    "src/compiler/serializer-hints.h",
+    "src/compiler/simd-scalar-lowering.h",
+    "src/compiler/simplified-lowering.h",
+    "src/compiler/simplified-operator-reducer.h",
+    "src/compiler/simplified-operator.h",
+    "src/compiler/state-values-utils.h",
+    "src/compiler/store-store-elimination.h",
+    "src/compiler/type-cache.h",
+    "src/compiler/type-narrowing-reducer.h",
+    "src/compiler/typed-optimization.h",
+    "src/compiler/typer.h",
+    "src/compiler/types.h",
+    "src/compiler/value-numbering-reducer.h",
+    "src/compiler/verifier.h",
+    "src/compiler/wasm-compiler.h",
+    "src/compiler/write-barrier-kind.h",
+    "src/compiler/zone-stats.h",
     "src/date/date.h",
     "src/date/dateparser-inl.h",
-    "src/date/dateparser.cc",
     "src/date/dateparser.h",
-    "src/debug/debug-coverage.cc",
     "src/debug/debug-coverage.h",
-    "src/debug/debug-evaluate.cc",
     "src/debug/debug-evaluate.h",
-    "src/debug/debug-frames.cc",
     "src/debug/debug-frames.h",
-    "src/debug/debug-interface.cc",
     "src/debug/debug-interface.h",
-    "src/debug/debug-property-iterator.cc",
     "src/debug/debug-property-iterator.h",
-    "src/debug/debug-scope-iterator.cc",
     "src/debug/debug-scope-iterator.h",
-    "src/debug/debug-scopes.cc",
     "src/debug/debug-scopes.h",
-    "src/debug/debug-stack-trace-iterator.cc",
     "src/debug/debug-stack-trace-iterator.h",
-    "src/debug/debug-type-profile.cc",
     "src/debug/debug-type-profile.h",
     "src/debug/debug-wasm-objects-inl.h",
-    "src/debug/debug-wasm-objects.cc",
     "src/debug/debug-wasm-objects.h",
-    "src/debug/debug.cc",
     "src/debug/debug.h",
     "src/debug/interface-types.h",
-    "src/debug/liveedit.cc",
     "src/debug/liveedit.h",
-    "src/deoptimizer/deoptimize-reason.cc",
     "src/deoptimizer/deoptimize-reason.h",
-    "src/deoptimizer/deoptimized-frame-info.cc",
     "src/deoptimizer/deoptimized-frame-info.h",
-    "src/deoptimizer/deoptimizer.cc",
     "src/deoptimizer/deoptimizer.h",
     "src/deoptimizer/frame-description.h",
-    "src/deoptimizer/materialized-object-store.cc",
     "src/deoptimizer/materialized-object-store.h",
-    "src/deoptimizer/translated-state.cc",
     "src/deoptimizer/translated-state.h",
-    "src/deoptimizer/translation-array.cc",
     "src/deoptimizer/translation-array.h",
     "src/deoptimizer/translation-opcode.h",
-    "src/diagnostics/basic-block-profiler.cc",
     "src/diagnostics/basic-block-profiler.h",
     "src/diagnostics/code-tracer.h",
-    "src/diagnostics/compilation-statistics.cc",
     "src/diagnostics/compilation-statistics.h",
     "src/diagnostics/disasm.h",
-    "src/diagnostics/disassembler.cc",
     "src/diagnostics/disassembler.h",
-    "src/diagnostics/eh-frame.cc",
     "src/diagnostics/eh-frame.h",
-    "src/diagnostics/gdb-jit.cc",
     "src/diagnostics/gdb-jit.h",
-    "src/diagnostics/objects-debug.cc",
-    "src/diagnostics/objects-printer.cc",
-    "src/diagnostics/perf-jit.cc",
     "src/diagnostics/perf-jit.h",
-    "src/diagnostics/unwinder.cc",
     "src/diagnostics/unwinder.h",
     "src/execution/arguments-inl.h",
-    "src/execution/arguments.cc",
     "src/execution/arguments.h",
-    "src/execution/execution.cc",
     "src/execution/execution.h",
-    "src/execution/external-pointer-table.cc",
     "src/execution/external-pointer-table.h",
     "src/execution/frame-constants.h",
     "src/execution/frames-inl.h",
-    "src/execution/frames.cc",
     "src/execution/frames.h",
-    "src/execution/futex-emulation.cc",
     "src/execution/futex-emulation.h",
-    "src/execution/interrupts-scope.cc",
     "src/execution/interrupts-scope.h",
     "src/execution/isolate-data.h",
     "src/execution/isolate-inl.h",
     "src/execution/isolate-utils.h",
-    "src/execution/isolate.cc",
     "src/execution/isolate.h",
     "src/execution/local-isolate-inl.h",
-    "src/execution/local-isolate.cc",
     "src/execution/local-isolate.h",
-    "src/execution/messages.cc",
     "src/execution/messages.h",
-    "src/execution/microtask-queue.cc",
     "src/execution/microtask-queue.h",
     "src/execution/pointer-authentication.h",
     "src/execution/protectors-inl.h",
-    "src/execution/protectors.cc",
     "src/execution/protectors.h",
-    "src/execution/runtime-profiler.cc",
     "src/execution/runtime-profiler.h",
     "src/execution/shared-mutex-guard-if-off-thread.h",
-    "src/execution/simulator-base.cc",
     "src/execution/simulator-base.h",
     "src/execution/simulator.h",
-    "src/execution/stack-guard.cc",
     "src/execution/stack-guard.h",
-    "src/execution/thread-id.cc",
     "src/execution/thread-id.h",
-    "src/execution/thread-local-top.cc",
     "src/execution/thread-local-top.h",
-    "src/execution/v8threads.cc",
     "src/execution/v8threads.h",
     "src/execution/vm-state-inl.h",
     "src/execution/vm-state.h",
-    "src/extensions/cputracemark-extension.cc",
     "src/extensions/cputracemark-extension.h",
-    "src/extensions/externalize-string-extension.cc",
     "src/extensions/externalize-string-extension.h",
-    "src/extensions/gc-extension.cc",
     "src/extensions/gc-extension.h",
-    "src/extensions/ignition-statistics-extension.cc",
     "src/extensions/ignition-statistics-extension.h",
-    "src/extensions/statistics-extension.cc",
     "src/extensions/statistics-extension.h",
-    "src/extensions/trigger-failure-extension.cc",
     "src/extensions/trigger-failure-extension.h",
     "src/flags/flag-definitions.h",
-    "src/flags/flags.cc",
     "src/flags/flags.h",
-    "src/handles/global-handles.cc",
     "src/handles/global-handles.h",
     "src/handles/handles-inl.h",
-    "src/handles/handles.cc",
     "src/handles/handles.h",
     "src/handles/local-handles-inl.h",
-    "src/handles/local-handles.cc",
     "src/handles/local-handles.h",
     "src/handles/maybe-handles-inl.h",
     "src/handles/maybe-handles.h",
-    "src/handles/persistent-handles.cc",
     "src/handles/persistent-handles.h",
-    "src/heap/allocation-observer.cc",
     "src/heap/allocation-observer.h",
     "src/heap/allocation-stats.h",
-    "src/heap/array-buffer-sweeper.cc",
     "src/heap/array-buffer-sweeper.h",
     "src/heap/barrier.h",
-    "src/heap/base-space.cc",
     "src/heap/base-space.h",
-    "src/heap/basic-memory-chunk.cc",
     "src/heap/basic-memory-chunk.h",
-    "src/heap/code-object-registry.cc",
     "src/heap/code-object-registry.h",
-    "src/heap/code-stats.cc",
     "src/heap/code-stats.h",
-    "src/heap/collection-barrier.cc",
     "src/heap/collection-barrier.h",
-    "src/heap/combined-heap.cc",
     "src/heap/combined-heap.h",
     "src/heap/concurrent-allocator-inl.h",
-    "src/heap/concurrent-allocator.cc",
     "src/heap/concurrent-allocator.h",
-    "src/heap/concurrent-marking.cc",
     "src/heap/concurrent-marking.h",
-    "src/heap/cppgc-js/cpp-heap.cc",
     "src/heap/cppgc-js/cpp-heap.h",
-    "src/heap/cppgc-js/cpp-snapshot.cc",
     "src/heap/cppgc-js/cpp-snapshot.h",
     "src/heap/cppgc-js/unified-heap-marking-state.h",
-    "src/heap/cppgc-js/unified-heap-marking-verifier.cc",
     "src/heap/cppgc-js/unified-heap-marking-verifier.h",
-    "src/heap/cppgc-js/unified-heap-marking-visitor.cc",
     "src/heap/cppgc-js/unified-heap-marking-visitor.h",
-    "src/heap/embedder-tracing.cc",
     "src/heap/embedder-tracing.h",
-    "src/heap/factory-base.cc",
     "src/heap/factory-base.h",
     "src/heap/factory-inl.h",
-    "src/heap/factory.cc",
     "src/heap/factory.h",
-    "src/heap/finalization-registry-cleanup-task.cc",
     "src/heap/finalization-registry-cleanup-task.h",
     "src/heap/free-list-inl.h",
-    "src/heap/free-list.cc",
     "src/heap/free-list.h",
-    "src/heap/gc-idle-time-handler.cc",
     "src/heap/gc-idle-time-handler.h",
-    "src/heap/gc-tracer.cc",
     "src/heap/gc-tracer.h",
-    "src/heap/heap-controller.cc",
     "src/heap/heap-controller.h",
     "src/heap/heap-inl.h",
     "src/heap/heap-write-barrier-inl.h",
-    "src/heap/heap-write-barrier.cc",
     "src/heap/heap-write-barrier.h",
-    "src/heap/heap.cc",
     "src/heap/heap.h",
     "src/heap/incremental-marking-inl.h",
-    "src/heap/incremental-marking-job.cc",
     "src/heap/incremental-marking-job.h",
-    "src/heap/incremental-marking.cc",
     "src/heap/incremental-marking.h",
-    "src/heap/index-generator.cc",
     "src/heap/index-generator.h",
     "src/heap/invalidated-slots-inl.h",
-    "src/heap/invalidated-slots.cc",
     "src/heap/invalidated-slots.h",
-    "src/heap/item-parallel-job.cc",
     "src/heap/item-parallel-job.h",
-    "src/heap/large-spaces.cc",
     "src/heap/large-spaces.h",
     "src/heap/list.h",
     "src/heap/local-allocator-inl.h",
     "src/heap/local-allocator.h",
-    "src/heap/local-factory.cc",
     "src/heap/local-factory.h",
     "src/heap/local-heap-inl.h",
-    "src/heap/local-heap.cc",
     "src/heap/local-heap.h",
     "src/heap/mark-compact-inl.h",
-    "src/heap/mark-compact.cc",
     "src/heap/mark-compact.h",
-    "src/heap/marking-barrier.cc",
     "src/heap/marking-barrier.h",
     "src/heap/marking-visitor-inl.h",
     "src/heap/marking-visitor.h",
     "src/heap/marking-worklist-inl.h",
-    "src/heap/marking-worklist.cc",
     "src/heap/marking-worklist.h",
-    "src/heap/marking.cc",
     "src/heap/marking.h",
-    "src/heap/memory-allocator.cc",
     "src/heap/memory-allocator.h",
     "src/heap/memory-chunk-inl.h",
-    "src/heap/memory-chunk-layout.cc",
     "src/heap/memory-chunk-layout.h",
-    "src/heap/memory-chunk.cc",
     "src/heap/memory-chunk.h",
     "src/heap/memory-measurement-inl.h",
-    "src/heap/memory-measurement.cc",
     "src/heap/memory-measurement.h",
-    "src/heap/memory-reducer.cc",
     "src/heap/memory-reducer.h",
     "src/heap/new-spaces-inl.h",
-    "src/heap/new-spaces.cc",
     "src/heap/new-spaces.h",
-    "src/heap/object-stats.cc",
     "src/heap/object-stats.h",
     "src/heap/objects-visiting-inl.h",
-    "src/heap/objects-visiting.cc",
     "src/heap/objects-visiting.h",
     "src/heap/paged-spaces-inl.h",
-    "src/heap/paged-spaces.cc",
     "src/heap/paged-spaces.h",
     "src/heap/parallel-work-item.h",
     "src/heap/parked-scope.h",
     "src/heap/read-only-heap-inl.h",
-    "src/heap/read-only-heap.cc",
     "src/heap/read-only-heap.h",
-    "src/heap/read-only-spaces.cc",
     "src/heap/read-only-spaces.h",
     "src/heap/remembered-set-inl.h",
     "src/heap/remembered-set.h",
-    "src/heap/safepoint.cc",
     "src/heap/safepoint.h",
-    "src/heap/scavenge-job.cc",
     "src/heap/scavenge-job.h",
     "src/heap/scavenger-inl.h",
-    "src/heap/scavenger.cc",
     "src/heap/scavenger.h",
-    "src/heap/slot-set.cc",
     "src/heap/slot-set.h",
     "src/heap/spaces-inl.h",
-    "src/heap/spaces.cc",
     "src/heap/spaces.h",
-    "src/heap/stress-marking-observer.cc",
     "src/heap/stress-marking-observer.h",
-    "src/heap/stress-scavenge-observer.cc",
     "src/heap/stress-scavenge-observer.h",
-    "src/heap/sweeper.cc",
     "src/heap/sweeper.h",
-    "src/heap/weak-object-worklists.cc",
     "src/heap/weak-object-worklists.h",
     "src/heap/worklist.h",
-    "src/ic/call-optimization.cc",
     "src/ic/call-optimization.h",
     "src/ic/handler-configuration-inl.h",
-    "src/ic/handler-configuration.cc",
     "src/ic/handler-configuration.h",
     "src/ic/ic-inl.h",
-    "src/ic/ic-stats.cc",
     "src/ic/ic-stats.h",
-    "src/ic/ic.cc",
     "src/ic/ic.h",
-    "src/ic/stub-cache.cc",
     "src/ic/stub-cache.h",
-    "src/init/bootstrapper.cc",
     "src/init/bootstrapper.h",
     "src/init/heap-symbols.h",
-    "src/init/icu_util.cc",
     "src/init/icu_util.h",
-    "src/init/isolate-allocator.cc",
     "src/init/isolate-allocator.h",
     "src/init/setup-isolate.h",
-    "src/init/startup-data-util.cc",
     "src/init/startup-data-util.h",
-    "src/init/v8.cc",
     "src/init/v8.h",
     "src/interpreter/block-coverage-builder.h",
-    "src/interpreter/bytecode-array-builder.cc",
     "src/interpreter/bytecode-array-builder.h",
-    "src/interpreter/bytecode-array-iterator.cc",
     "src/interpreter/bytecode-array-iterator.h",
-    "src/interpreter/bytecode-array-random-iterator.cc",
     "src/interpreter/bytecode-array-random-iterator.h",
-    "src/interpreter/bytecode-array-writer.cc",
     "src/interpreter/bytecode-array-writer.h",
-    "src/interpreter/bytecode-decoder.cc",
     "src/interpreter/bytecode-decoder.h",
-    "src/interpreter/bytecode-flags.cc",
     "src/interpreter/bytecode-flags.h",
-    "src/interpreter/bytecode-generator.cc",
     "src/interpreter/bytecode-generator.h",
     "src/interpreter/bytecode-jump-table.h",
-    "src/interpreter/bytecode-label.cc",
     "src/interpreter/bytecode-label.h",
-    "src/interpreter/bytecode-node.cc",
     "src/interpreter/bytecode-node.h",
-    "src/interpreter/bytecode-operands.cc",
     "src/interpreter/bytecode-operands.h",
     "src/interpreter/bytecode-register-allocator.h",
-    "src/interpreter/bytecode-register-optimizer.cc",
     "src/interpreter/bytecode-register-optimizer.h",
-    "src/interpreter/bytecode-register.cc",
     "src/interpreter/bytecode-register.h",
-    "src/interpreter/bytecode-source-info.cc",
     "src/interpreter/bytecode-source-info.h",
     "src/interpreter/bytecode-traits.h",
-    "src/interpreter/bytecodes.cc",
     "src/interpreter/bytecodes.h",
-    "src/interpreter/constant-array-builder.cc",
     "src/interpreter/constant-array-builder.h",
-    "src/interpreter/control-flow-builders.cc",
     "src/interpreter/control-flow-builders.h",
-    "src/interpreter/handler-table-builder.cc",
     "src/interpreter/handler-table-builder.h",
     "src/interpreter/interpreter-generator.h",
-    "src/interpreter/interpreter-intrinsics.cc",
     "src/interpreter/interpreter-intrinsics.h",
-    "src/interpreter/interpreter.cc",
     "src/interpreter/interpreter.h",
-    "src/json/json-parser.cc",
     "src/json/json-parser.h",
-    "src/json/json-stringifier.cc",
     "src/json/json-stringifier.h",
     "src/logging/code-events.h",
     "src/logging/counters-definitions.h",
     "src/logging/counters-inl.h",
-    "src/logging/counters.cc",
     "src/logging/counters.h",
-    "src/logging/local-logger.cc",
     "src/logging/local-logger.h",
     "src/logging/log-inl.h",
-    "src/logging/log-utils.cc",
     "src/logging/log-utils.h",
-    "src/logging/log.cc",
     "src/logging/log.h",
-    "src/logging/metrics.cc",
     "src/logging/metrics.h",
-    "src/logging/tracing-flags.cc",
     "src/logging/tracing-flags.h",
-    "src/numbers/bignum-dtoa.cc",
     "src/numbers/bignum-dtoa.h",
-    "src/numbers/bignum.cc",
     "src/numbers/bignum.h",
-    "src/numbers/cached-powers.cc",
     "src/numbers/cached-powers.h",
     "src/numbers/conversions-inl.h",
-    "src/numbers/conversions.cc",
     "src/numbers/conversions.h",
-    "src/numbers/diy-fp.cc",
     "src/numbers/diy-fp.h",
     "src/numbers/double.h",
-    "src/numbers/dtoa.cc",
     "src/numbers/dtoa.h",
-    "src/numbers/fast-dtoa.cc",
     "src/numbers/fast-dtoa.h",
-    "src/numbers/fixed-dtoa.cc",
     "src/numbers/fixed-dtoa.h",
     "src/numbers/hash-seed-inl.h",
-    "src/numbers/math-random.cc",
     "src/numbers/math-random.h",
-    "src/numbers/strtod.cc",
     "src/numbers/strtod.h",
     "src/objects/all-objects-inl.h",
     "src/objects/allocation-site-inl.h",
@@ -3060,53 +2639,41 @@ v8_source_set("v8_base_without_compiler") {
     "src/objects/api-callbacks.h",
     "src/objects/arguments-inl.h",
     "src/objects/arguments.h",
-    "src/objects/backing-store.cc",
     "src/objects/backing-store.h",
     "src/objects/bigint-inl.h",
-    "src/objects/bigint.cc",
     "src/objects/bigint.h",
     "src/objects/cell-inl.h",
     "src/objects/cell.h",
     "src/objects/code-inl.h",
-    "src/objects/code-kind.cc",
     "src/objects/code-kind.h",
-    "src/objects/code.cc",
     "src/objects/code.h",
     "src/objects/compilation-cache-table-inl.h",
-    "src/objects/compilation-cache-table.cc",
     "src/objects/compilation-cache-table.h",
     "src/objects/compressed-slots-inl.h",
     "src/objects/compressed-slots.h",
     "src/objects/contexts-inl.h",
-    "src/objects/contexts.cc",
     "src/objects/contexts.h",
     "src/objects/data-handler-inl.h",
     "src/objects/data-handler.h",
     "src/objects/debug-objects-inl.h",
-    "src/objects/debug-objects.cc",
     "src/objects/debug-objects.h",
     "src/objects/descriptor-array-inl.h",
     "src/objects/descriptor-array.h",
     "src/objects/dictionary-inl.h",
     "src/objects/dictionary.h",
     "src/objects/elements-inl.h",
-    "src/objects/elements-kind.cc",
     "src/objects/elements-kind.h",
-    "src/objects/elements.cc",
     "src/objects/elements.h",
     "src/objects/embedder-data-array-inl.h",
-    "src/objects/embedder-data-array.cc",
     "src/objects/embedder-data-array.h",
     "src/objects/embedder-data-slot-inl.h",
     "src/objects/embedder-data-slot.h",
     "src/objects/feedback-cell-inl.h",
     "src/objects/feedback-cell.h",
     "src/objects/feedback-vector-inl.h",
-    "src/objects/feedback-vector.cc",
     "src/objects/feedback-vector.h",
     "src/objects/field-index-inl.h",
     "src/objects/field-index.h",
-    "src/objects/field-type.cc",
     "src/objects/field-type.h",
     "src/objects/fixed-array-inl.h",
     "src/objects/fixed-array.h",
@@ -3124,48 +2691,19 @@ v8_source_set("v8_base_without_compiler") {
     "src/objects/instance-type-inl.h",
     "src/objects/instance-type.h",
     "src/objects/internal-index.h",
-    "src/objects/intl-objects.cc",
-    "src/objects/intl-objects.h",
     "src/objects/js-array-buffer-inl.h",
-    "src/objects/js-array-buffer.cc",
     "src/objects/js-array-buffer.h",
     "src/objects/js-array-inl.h",
     "src/objects/js-array.h",
-    "src/objects/js-break-iterator-inl.h",
-    "src/objects/js-break-iterator.cc",
-    "src/objects/js-break-iterator.h",
-    "src/objects/js-collator-inl.h",
-    "src/objects/js-collator.cc",
-    "src/objects/js-collator.h",
     "src/objects/js-collection-inl.h",
     "src/objects/js-collection-iterator.h",
     "src/objects/js-collection.h",
-    "src/objects/js-date-time-format-inl.h",
-    "src/objects/js-date-time-format.cc",
-    "src/objects/js-date-time-format.h",
-    "src/objects/js-display-names-inl.h",
-    "src/objects/js-display-names.cc",
-    "src/objects/js-display-names.h",
     "src/objects/js-function-inl.h",
-    "src/objects/js-function.cc",
     "src/objects/js-function.h",
     "src/objects/js-generator-inl.h",
     "src/objects/js-generator.h",
-    "src/objects/js-list-format-inl.h",
-    "src/objects/js-list-format.cc",
-    "src/objects/js-list-format.h",
-    "src/objects/js-locale-inl.h",
-    "src/objects/js-locale.cc",
-    "src/objects/js-locale.h",
-    "src/objects/js-number-format-inl.h",
-    "src/objects/js-number-format.cc",
-    "src/objects/js-number-format.h",
     "src/objects/js-objects-inl.h",
-    "src/objects/js-objects.cc",
     "src/objects/js-objects.h",
-    "src/objects/js-plural-rules-inl.h",
-    "src/objects/js-plural-rules.cc",
-    "src/objects/js-plural-rules.h",
     "src/objects/js-promise-inl.h",
     "src/objects/js-promise.h",
     "src/objects/js-proxy-inl.h",
@@ -3173,46 +2711,25 @@ v8_source_set("v8_base_without_compiler") {
     "src/objects/js-regexp-inl.h",
     "src/objects/js-regexp-string-iterator-inl.h",
     "src/objects/js-regexp-string-iterator.h",
-    "src/objects/js-regexp.cc",
     "src/objects/js-regexp.h",
-    "src/objects/js-relative-time-format-inl.h",
-    "src/objects/js-relative-time-format.cc",
-    "src/objects/js-relative-time-format.h",
-    "src/objects/js-segment-iterator-inl.h",
-    "src/objects/js-segment-iterator.cc",
-    "src/objects/js-segment-iterator.h",
-    "src/objects/js-segmenter-inl.h",
-    "src/objects/js-segmenter.cc",
-    "src/objects/js-segmenter.h",
-    "src/objects/js-segments-inl.h",
-    "src/objects/js-segments.cc",
-    "src/objects/js-segments.h",
     "src/objects/js-weak-refs-inl.h",
     "src/objects/js-weak-refs.h",
-    "src/objects/keys.cc",
     "src/objects/keys.h",
     "src/objects/literal-objects-inl.h",
-    "src/objects/literal-objects.cc",
     "src/objects/literal-objects.h",
     "src/objects/lookup-cache-inl.h",
-    "src/objects/lookup-cache.cc",
     "src/objects/lookup-cache.h",
     "src/objects/lookup-inl.h",
-    "src/objects/lookup.cc",
     "src/objects/lookup.h",
-    "src/objects/managed.cc",
     "src/objects/managed.h",
     "src/objects/map-inl.h",
-    "src/objects/map-updater.cc",
     "src/objects/map-updater.h",
-    "src/objects/map.cc",
     "src/objects/map.h",
     "src/objects/maybe-object-inl.h",
     "src/objects/maybe-object.h",
     "src/objects/microtask-inl.h",
     "src/objects/microtask.h",
     "src/objects/module-inl.h",
-    "src/objects/module.cc",
     "src/objects/module.h",
     "src/objects/name-inl.h",
     "src/objects/name.h",
@@ -3222,15 +2739,12 @@ v8_source_set("v8_base_without_compiler") {
     "src/objects/objects-body-descriptors-inl.h",
     "src/objects/objects-body-descriptors.h",
     "src/objects/objects-inl.h",
-    "src/objects/objects.cc",
     "src/objects/objects.h",
     "src/objects/oddball-inl.h",
     "src/objects/oddball.h",
     "src/objects/ordered-hash-table-inl.h",
-    "src/objects/ordered-hash-table.cc",
     "src/objects/ordered-hash-table.h",
     "src/objects/osr-optimized-code-cache-inl.h",
-    "src/objects/osr-optimized-code-cache.cc",
     "src/objects/osr-optimized-code-cache.h",
     "src/objects/primitive-heap-object-inl.h",
     "src/objects/primitive-heap-object.h",
@@ -3242,179 +2756,1040 @@ v8_source_set("v8_base_without_compiler") {
     "src/objects/property-cell.h",
     "src/objects/property-descriptor-object-inl.h",
     "src/objects/property-descriptor-object.h",
-    "src/objects/property-descriptor.cc",
     "src/objects/property-descriptor.h",
     "src/objects/property-details.h",
-    "src/objects/property.cc",
     "src/objects/property.h",
     "src/objects/prototype-info-inl.h",
     "src/objects/prototype-info.h",
     "src/objects/prototype.h",
     "src/objects/regexp-match-info.h",
     "src/objects/scope-info-inl.h",
-    "src/objects/scope-info.cc",
     "src/objects/scope-info.h",
     "src/objects/script-inl.h",
     "src/objects/script.h",
     "src/objects/shared-function-info-inl.h",
-    "src/objects/shared-function-info.cc",
     "src/objects/shared-function-info.h",
     "src/objects/slots-atomic-inl.h",
     "src/objects/slots-inl.h",
     "src/objects/slots.h",
-    "src/objects/source-text-module.cc",
     "src/objects/source-text-module.h",
     "src/objects/stack-frame-info-inl.h",
-    "src/objects/stack-frame-info.cc",
     "src/objects/stack-frame-info.h",
-    "src/objects/string-comparator.cc",
     "src/objects/string-comparator.h",
     "src/objects/string-inl.h",
     "src/objects/string-set-inl.h",
     "src/objects/string-set.h",
     "src/objects/string-table-inl.h",
-    "src/objects/string-table.cc",
     "src/objects/string-table.h",
-    "src/objects/string.cc",
     "src/objects/string.h",
     "src/objects/struct-inl.h",
     "src/objects/struct.h",
     "src/objects/swiss-hash-table-helpers.h",
     "src/objects/swiss-name-dictionary-inl.h",
-    "src/objects/swiss-name-dictionary.cc",
     "src/objects/swiss-name-dictionary.h",
     "src/objects/synthetic-module-inl.h",
-    "src/objects/synthetic-module.cc",
     "src/objects/synthetic-module.h",
     "src/objects/tagged-field-inl.h",
     "src/objects/tagged-field.h",
     "src/objects/tagged-impl-inl.h",
-    "src/objects/tagged-impl.cc",
     "src/objects/tagged-impl.h",
     "src/objects/tagged-index.h",
     "src/objects/tagged-value-inl.h",
     "src/objects/tagged-value.h",
     "src/objects/template-objects-inl.h",
-    "src/objects/template-objects.cc",
     "src/objects/template-objects.h",
     "src/objects/templates-inl.h",
     "src/objects/templates.h",
     "src/objects/torque-defined-classes-inl.h",
     "src/objects/torque-defined-classes.h",
     "src/objects/transitions-inl.h",
-    "src/objects/transitions.cc",
     "src/objects/transitions.h",
-    "src/objects/type-hints.cc",
     "src/objects/type-hints.h",
-    "src/objects/value-serializer.cc",
     "src/objects/value-serializer.h",
-    "src/objects/visitors.cc",
     "src/objects/visitors.h",
     "src/parsing/expression-scope.h",
-    "src/parsing/func-name-inferrer.cc",
     "src/parsing/func-name-inferrer.h",
-    "src/parsing/import-assertions.cc",
     "src/parsing/import-assertions.h",
-    "src/parsing/literal-buffer.cc",
     "src/parsing/literal-buffer.h",
-    "src/parsing/parse-info.cc",
     "src/parsing/parse-info.h",
     "src/parsing/parser-base.h",
-    "src/parsing/parser.cc",
     "src/parsing/parser.h",
-    "src/parsing/parsing.cc",
     "src/parsing/parsing.h",
-    "src/parsing/pending-compilation-error-handler.cc",
     "src/parsing/pending-compilation-error-handler.h",
     "src/parsing/preparse-data-impl.h",
-    "src/parsing/preparse-data.cc",
     "src/parsing/preparse-data.h",
     "src/parsing/preparser-logger.h",
-    "src/parsing/preparser.cc",
     "src/parsing/preparser.h",
-    "src/parsing/rewriter.cc",
     "src/parsing/rewriter.h",
-    "src/parsing/scanner-character-streams.cc",
     "src/parsing/scanner-character-streams.h",
-    "src/parsing/scanner.cc",
     "src/parsing/scanner.h",
-    "src/parsing/token.cc",
     "src/parsing/token.h",
-    "src/profiler/allocation-tracker.cc",
     "src/profiler/allocation-tracker.h",
     "src/profiler/circular-queue-inl.h",
     "src/profiler/circular-queue.h",
     "src/profiler/cpu-profiler-inl.h",
-    "src/profiler/cpu-profiler.cc",
     "src/profiler/cpu-profiler.h",
+    "src/profiler/heap-profiler.h",
+    "src/profiler/heap-snapshot-generator-inl.h",
+    "src/profiler/heap-snapshot-generator.h",
+    "src/profiler/profile-generator-inl.h",
+    "src/profiler/profile-generator.h",
+    "src/profiler/profiler-listener.h",
+    "src/profiler/profiler-stats.h",
+    "src/profiler/sampling-heap-profiler.h",
+    "src/profiler/strings-storage.h",
+    "src/profiler/symbolizer.h",
+    "src/profiler/tick-sample.h",
+    "src/profiler/tracing-cpu-profiler.h",
+    "src/regexp/experimental/experimental-bytecode.h",
+    "src/regexp/experimental/experimental-compiler.h",
+    "src/regexp/experimental/experimental-interpreter.h",
+    "src/regexp/experimental/experimental.h",
+    "src/regexp/property-sequences.h",
+    "src/regexp/regexp-ast.h",
+    "src/regexp/regexp-bytecode-generator-inl.h",
+    "src/regexp/regexp-bytecode-generator.h",
+    "src/regexp/regexp-bytecode-peephole.h",
+    "src/regexp/regexp-bytecodes.h",
+    "src/regexp/regexp-compiler.h",
+    "src/regexp/regexp-dotprinter.h",
+    "src/regexp/regexp-error.h",
+    "src/regexp/regexp-interpreter.h",
+    "src/regexp/regexp-macro-assembler-arch.h",
+    "src/regexp/regexp-macro-assembler-tracer.h",
+    "src/regexp/regexp-macro-assembler.h",
+    "src/regexp/regexp-nodes.h",
+    "src/regexp/regexp-parser.h",
+    "src/regexp/regexp-stack.h",
+    "src/regexp/regexp-utils.h",
+    "src/regexp/regexp.h",
+    "src/regexp/special-case.h",
+    "src/roots/roots-inl.h",
+    "src/roots/roots.h",
+    "src/runtime/runtime-utils.h",
+    "src/runtime/runtime.h",
+    "src/sanitizer/asan.h",
+    "src/sanitizer/lsan-page-allocator.h",
+    "src/sanitizer/msan.h",
+    "src/sanitizer/tsan.h",
+    "src/snapshot/code-serializer.h",
+    "src/snapshot/context-deserializer.h",
+    "src/snapshot/context-serializer.h",
+    "src/snapshot/deserializer.h",
+    "src/snapshot/embedded/embedded-data.h",
+    "src/snapshot/object-deserializer.h",
+    "src/snapshot/read-only-deserializer.h",
+    "src/snapshot/read-only-serializer.h",
+    "src/snapshot/references.h",
+    "src/snapshot/roots-serializer.h",
+    "src/snapshot/serializer-deserializer.h",
+    "src/snapshot/serializer.h",
+    "src/snapshot/snapshot-compression.h",
+    "src/snapshot/snapshot-data.h",
+    "src/snapshot/snapshot-source-sink.h",
+    "src/snapshot/snapshot-utils.h",
+    "src/snapshot/snapshot.h",
+    "src/snapshot/startup-deserializer.h",
+    "src/snapshot/startup-serializer.h",
+    "src/strings/char-predicates-inl.h",
+    "src/strings/char-predicates.h",
+    "src/strings/string-builder-inl.h",
+    "src/strings/string-case.h",
+    "src/strings/string-hasher-inl.h",
+    "src/strings/string-hasher.h",
+    "src/strings/string-search.h",
+    "src/strings/string-stream.h",
+    "src/strings/unicode-decoder.h",
+    "src/strings/unicode-inl.h",
+    "src/strings/unicode.h",
+    "src/strings/uri.h",
+    "src/tasks/cancelable-task.h",
+    "src/tasks/operations-barrier.h",
+    "src/tasks/task-utils.h",
+    "src/third_party/siphash/halfsiphash.h",
+    "src/third_party/utf8-decoder/utf8-decoder.h",
+    "src/tracing/trace-event.h",
+    "src/tracing/traced-value.h",
+    "src/tracing/tracing-category-observer.h",
+    "src/trap-handler/trap-handler-internal.h",
+    "src/trap-handler/trap-handler.h",
+    "src/utils/address-map.h",
+    "src/utils/allocation.h",
+    "src/utils/bit-vector.h",
+    "src/utils/boxed-float.h",
+    "src/utils/detachable-vector.h",
+    "src/utils/identity-map.h",
+    "src/utils/locked-queue-inl.h",
+    "src/utils/locked-queue.h",
+    "src/utils/memcopy.h",
+    "src/utils/ostreams.h",
+    "src/utils/pointer-with-payload.h",
+    "src/utils/scoped-list.h",
+    "src/utils/utils-inl.h",
+    "src/utils/utils.h",
+    "src/utils/vector.h",
+    "src/utils/version.h",
+    "src/wasm/baseline/liftoff-assembler-defs.h",
+    "src/wasm/baseline/liftoff-assembler.h",
+    "src/wasm/baseline/liftoff-compiler.h",
+    "src/wasm/baseline/liftoff-register.h",
+    "src/wasm/code-space-access.h",
+    "src/wasm/compilation-environment.h",
+    "src/wasm/decoder.h",
+    "src/wasm/function-body-decoder-impl.h",
+    "src/wasm/function-body-decoder.h",
+    "src/wasm/function-compiler.h",
+    "src/wasm/graph-builder-interface.h",
+    "src/wasm/jump-table-assembler.h",
+    "src/wasm/leb-helper.h",
+    "src/wasm/local-decl-encoder.h",
+    "src/wasm/memory-tracing.h",
+    "src/wasm/module-compiler.h",
+    "src/wasm/module-decoder.h",
+    "src/wasm/module-instantiate.h",
+    "src/wasm/object-access.h",
+    "src/wasm/signature-map.h",
+    "src/wasm/simd-shuffle.h",
+    "src/wasm/streaming-decoder.h",
+    "src/wasm/struct-types.h",
+    "src/wasm/value-type.h",
+    "src/wasm/wasm-arguments.h",
+    "src/wasm/wasm-code-manager.h",
+    "src/wasm/wasm-constants.h",
+    "src/wasm/wasm-engine.h",
+    "src/wasm/wasm-external-refs.h",
+    "src/wasm/wasm-feature-flags.h",
+    "src/wasm/wasm-features.h",
+    "src/wasm/wasm-import-wrapper-cache.h",
+    "src/wasm/wasm-js.h",
+    "src/wasm/wasm-limits.h",
+    "src/wasm/wasm-linkage.h",
+    "src/wasm/wasm-module-builder.h",
+    "src/wasm/wasm-module-sourcemap.h",
+    "src/wasm/wasm-module.h",
+    "src/wasm/wasm-objects-inl.h",
+    "src/wasm/wasm-objects.h",
+    "src/wasm/wasm-opcodes.h",
+    "src/wasm/wasm-result.h",
+    "src/wasm/wasm-serialization.h",
+    "src/wasm/wasm-subtyping.h",
+    "src/wasm/wasm-tier.h",
+    "src/wasm/wasm-value.h",
+    "src/zone/accounting-allocator.h",
+    "src/zone/compressed-zone-ptr.h",
+    "src/zone/type-stats.h",
+    "src/zone/zone-allocator.h",
+    "src/zone/zone-chunk-list.h",
+    "src/zone/zone-compression.h",
+    "src/zone/zone-containers.h",
+    "src/zone/zone-handle-set.h",
+    "src/zone/zone-hashmap.h",
+    "src/zone/zone-list-inl.h",
+    "src/zone/zone-list.h",
+    "src/zone/zone-segment.h",
+    "src/zone/zone-type-traits.h",
+    "src/zone/zone-utils.h",
+    "src/zone/zone.h",
+  ]
+
+  if (v8_enable_webassembly) {
+    sources += [
+      "src/asmjs/asm-js.h",
+      "src/asmjs/asm-parser.h",
+      "src/asmjs/asm-scanner.h",
+      "src/asmjs/asm-types.h",
+    ]
+  }
+
+  if (v8_enable_i18n_support) {
+    sources += [
+      "src/objects/intl-objects.h",
+      "src/objects/js-break-iterator-inl.h",
+      "src/objects/js-break-iterator.h",
+      "src/objects/js-collator-inl.h",
+      "src/objects/js-collator.h",
+      "src/objects/js-date-time-format-inl.h",
+      "src/objects/js-date-time-format.h",
+      "src/objects/js-display-names-inl.h",
+      "src/objects/js-display-names.h",
+      "src/objects/js-list-format-inl.h",
+      "src/objects/js-list-format.h",
+      "src/objects/js-locale-inl.h",
+      "src/objects/js-locale.h",
+      "src/objects/js-number-format-inl.h",
+      "src/objects/js-number-format.h",
+      "src/objects/js-plural-rules-inl.h",
+      "src/objects/js-plural-rules.h",
+      "src/objects/js-relative-time-format-inl.h",
+      "src/objects/js-relative-time-format.h",
+      "src/objects/js-segment-iterator-inl.h",
+      "src/objects/js-segment-iterator.h",
+      "src/objects/js-segmenter-inl.h",
+      "src/objects/js-segmenter.h",
+      "src/objects/js-segments-inl.h",
+      "src/objects/js-segments.h",
+    ]
+  }
+
+  if (!v8_control_flow_integrity) {
+    sources += [ "src/execution/pointer-authentication-dummy.h" ]
+  }
+
+  if (v8_enable_conservative_stack_scanning) {
+    sources += [
+      "src/heap/conservative-stack-visitor.h",
+      "src/heap/object-start-bitmap.h",
+    ]
+  }
+
+  if (v8_enable_wasm_gdb_remote_debugging) {
+    sources += [
+      "src/debug/wasm/gdb-server/gdb-remote-util.h",
+      "src/debug/wasm/gdb-server/gdb-server-thread.h",
+      "src/debug/wasm/gdb-server/gdb-server.h",
+      "src/debug/wasm/gdb-server/packet.h",
+      "src/debug/wasm/gdb-server/session.h",
+      "src/debug/wasm/gdb-server/target.h",
+      "src/debug/wasm/gdb-server/transport.h",
+      "src/debug/wasm/gdb-server/wasm-module-debug.h",
+    ]
+  }
+
+  if (v8_current_cpu == "x86") {
+    sources += [  ### gcmole(arch:ia32) ###
+      "src/baseline/ia32/baseline-assembler-ia32-inl.h",
+      "src/baseline/ia32/baseline-compiler-ia32-inl.h",
+      "src/codegen/ia32/assembler-ia32-inl.h",
+      "src/codegen/ia32/assembler-ia32.h",
+      "src/codegen/ia32/constants-ia32.h",
+      "src/codegen/ia32/macro-assembler-ia32.h",
+      "src/codegen/ia32/register-ia32.h",
+      "src/codegen/ia32/sse-instr.h",
+      "src/compiler/backend/ia32/instruction-codes-ia32.h",
+      "src/execution/ia32/frame-constants-ia32.h",
+      "src/regexp/ia32/regexp-macro-assembler-ia32.h",
+      "src/wasm/baseline/ia32/liftoff-assembler-ia32.h",
+    ]
+  } else if (v8_current_cpu == "x64") {
+    sources += [  ### gcmole(arch:x64) ###
+      "src/baseline/x64/baseline-assembler-x64-inl.h",
+      "src/baseline/x64/baseline-compiler-x64-inl.h",
+      "src/codegen/x64/assembler-x64-inl.h",
+      "src/codegen/x64/assembler-x64.h",
+      "src/codegen/x64/constants-x64.h",
+      "src/codegen/x64/fma-instr.h",
+      "src/codegen/x64/macro-assembler-x64.h",
+      "src/codegen/x64/register-x64.h",
+      "src/codegen/x64/sse-instr.h",
+      "src/compiler/backend/x64/instruction-codes-x64.h",
+      "src/compiler/backend/x64/unwinding-info-writer-x64.h",
+      "src/execution/x64/frame-constants-x64.h",
+      "src/regexp/x64/regexp-macro-assembler-x64.h",
+      "src/third_party/valgrind/valgrind.h",
+      "src/wasm/baseline/x64/liftoff-assembler-x64.h",
+    ]
+
+    # iOS Xcode simulator builds run on an x64 target. iOS and macOS are both
+    # based on Darwin and thus POSIX-compliant to a similar degree.
+    if (is_linux || is_chromeos || is_mac || is_ios || target_os == "freebsd") {
+      sources += [ "src/trap-handler/handler-inside-posix.h" ]
+    }
+    if (is_win) {
+      sources += [
+        "src/diagnostics/unwinding-info-win64.h",
+        "src/trap-handler/handler-inside-win.h",
+      ]
+    }
+  } else if (v8_current_cpu == "arm") {
+    sources += [  ### gcmole(arch:arm) ###
+      "src/baseline/arm/baseline-assembler-arm-inl.h",
+      "src/baseline/arm/baseline-compiler-arm-inl.h",
+      "src/codegen/arm/assembler-arm-inl.h",
+      "src/codegen/arm/assembler-arm.h",
+      "src/codegen/arm/constants-arm.h",
+      "src/codegen/arm/macro-assembler-arm.h",
+      "src/codegen/arm/register-arm.h",
+      "src/compiler/backend/arm/instruction-codes-arm.h",
+      "src/compiler/backend/arm/unwinding-info-writer-arm.h",
+      "src/execution/arm/frame-constants-arm.h",
+      "src/execution/arm/simulator-arm.h",
+      "src/regexp/arm/regexp-macro-assembler-arm.h",
+      "src/wasm/baseline/arm/liftoff-assembler-arm.h",
+    ]
+  } else if (v8_current_cpu == "arm64") {
+    sources += [  ### gcmole(arch:arm64) ###
+      "src/baseline/arm64/baseline-assembler-arm64-inl.h",
+      "src/baseline/arm64/baseline-compiler-arm64-inl.h",
+      "src/codegen/arm64/assembler-arm64-inl.h",
+      "src/codegen/arm64/assembler-arm64.h",
+      "src/codegen/arm64/constants-arm64.h",
+      "src/codegen/arm64/decoder-arm64-inl.h",
+      "src/codegen/arm64/decoder-arm64.h",
+      "src/codegen/arm64/instructions-arm64.h",
+      "src/codegen/arm64/macro-assembler-arm64-inl.h",
+      "src/codegen/arm64/macro-assembler-arm64.h",
+      "src/codegen/arm64/register-arm64.h",
+      "src/codegen/arm64/utils-arm64.h",
+      "src/compiler/backend/arm64/instruction-codes-arm64.h",
+      "src/compiler/backend/arm64/unwinding-info-writer-arm64.h",
+      "src/diagnostics/arm64/disasm-arm64.h",
+      "src/execution/arm64/frame-constants-arm64.h",
+      "src/execution/arm64/simulator-arm64.h",
+      "src/regexp/arm64/regexp-macro-assembler-arm64.h",
+      "src/wasm/baseline/arm64/liftoff-assembler-arm64.h",
+    ]
+    if (v8_control_flow_integrity) {
+      sources += [ "src/execution/arm64/pointer-authentication-arm64.h" ]
+    }
+    if (current_cpu == "arm64" && is_mac) {
+      sources += [ "src/trap-handler/handler-inside-posix.h" ]
+    }
+    if (is_win) {
+      sources += [ "src/diagnostics/unwinding-info-win64.h" ]
+    }
+  } else if (v8_current_cpu == "mips" || v8_current_cpu == "mipsel") {
+    sources += [  ### gcmole(arch:mipsel) ###
+      "src/baseline/mips/baseline-assembler-mips-inl.h",
+      "src/baseline/mips/baseline-compiler-mips-inl.h",
+      "src/codegen/mips/assembler-mips-inl.h",
+      "src/codegen/mips/assembler-mips.h",
+      "src/codegen/mips/constants-mips.h",
+      "src/codegen/mips/macro-assembler-mips.h",
+      "src/codegen/mips/register-mips.h",
+      "src/compiler/backend/mips/instruction-codes-mips.h",
+      "src/execution/mips/frame-constants-mips.h",
+      "src/execution/mips/simulator-mips.h",
+      "src/regexp/mips/regexp-macro-assembler-mips.h",
+      "src/wasm/baseline/mips/liftoff-assembler-mips.h",
+    ]
+  } else if (v8_current_cpu == "mips64" || v8_current_cpu == "mips64el") {
+    sources += [  ### gcmole(arch:mips64el) ###
+      "src/baseline/mips64/baseline-assembler-mips64-inl.h",
+      "src/baseline/mips64/baseline-compiler-mips64-inl.h",
+      "src/codegen/mips64/assembler-mips64-inl.h",
+      "src/codegen/mips64/assembler-mips64.h",
+      "src/codegen/mips64/constants-mips64.h",
+      "src/codegen/mips64/macro-assembler-mips64.h",
+      "src/codegen/mips64/register-mips64.h",
+      "src/compiler/backend/mips64/instruction-codes-mips64.h",
+      "src/execution/mips64/frame-constants-mips64.h",
+      "src/execution/mips64/simulator-mips64.h",
+      "src/regexp/mips64/regexp-macro-assembler-mips64.h",
+      "src/wasm/baseline/mips64/liftoff-assembler-mips64.h",
+    ]
+  } else if (v8_current_cpu == "ppc") {
+    sources += [  ### gcmole(arch:ppc) ###
+      "src/baseline/ppc/baseline-assembler-ppc-inl.h",
+      "src/baseline/ppc/baseline-compiler-ppc-inl.h",
+      "src/codegen/ppc/assembler-ppc-inl.h",
+      "src/codegen/ppc/assembler-ppc.h",
+      "src/codegen/ppc/constants-ppc.h",
+      "src/codegen/ppc/macro-assembler-ppc.h",
+      "src/codegen/ppc/register-ppc.h",
+      "src/compiler/backend/ppc/instruction-codes-ppc.h",
+      "src/compiler/backend/ppc/unwinding-info-writer-ppc.h",
+      "src/execution/ppc/frame-constants-ppc.h",
+      "src/execution/ppc/simulator-ppc.h",
+      "src/regexp/ppc/regexp-macro-assembler-ppc.h",
+      "src/wasm/baseline/ppc/liftoff-assembler-ppc.h",
+    ]
+  } else if (v8_current_cpu == "ppc64") {
+    sources += [  ### gcmole(arch:ppc64) ###
+      "src/baseline/ppc/baseline-assembler-ppc-inl.h",
+      "src/baseline/ppc/baseline-compiler-ppc-inl.h",
+      "src/codegen/ppc/assembler-ppc-inl.h",
+      "src/codegen/ppc/assembler-ppc.h",
+      "src/codegen/ppc/constants-ppc.h",
+      "src/codegen/ppc/macro-assembler-ppc.h",
+      "src/codegen/ppc/register-ppc.h",
+      "src/compiler/backend/ppc/instruction-codes-ppc.h",
+      "src/compiler/backend/ppc/unwinding-info-writer-ppc.h",
+      "src/execution/ppc/frame-constants-ppc.h",
+      "src/execution/ppc/simulator-ppc.h",
+      "src/regexp/ppc/regexp-macro-assembler-ppc.h",
+      "src/wasm/baseline/ppc/liftoff-assembler-ppc.h",
+    ]
+  } else if (v8_current_cpu == "s390" || v8_current_cpu == "s390x") {
+    sources += [  ### gcmole(arch:s390) ###
+      "src/baseline/s390/baseline-assembler-s390-inl.h",
+      "src/baseline/s390/baseline-compiler-s390-inl.h",
+      "src/codegen/s390/assembler-s390-inl.h",
+      "src/codegen/s390/assembler-s390.h",
+      "src/codegen/s390/constants-s390.h",
+      "src/codegen/s390/macro-assembler-s390.h",
+      "src/codegen/s390/register-s390.h",
+      "src/compiler/backend/s390/instruction-codes-s390.h",
+      "src/compiler/backend/s390/unwinding-info-writer-s390.h",
+      "src/execution/s390/frame-constants-s390.h",
+      "src/execution/s390/simulator-s390.h",
+      "src/regexp/s390/regexp-macro-assembler-s390.h",
+      "src/wasm/baseline/s390/liftoff-assembler-s390.h",
+    ]
+  } else if (v8_current_cpu == "riscv64") {
+    sources += [  ### gcmole(arch:riscv64) ###
+      "src/codegen/riscv64/assembler-riscv64-inl.h",
+      "src/codegen/riscv64/assembler-riscv64.h",
+      "src/codegen/riscv64/constants-riscv64.h",
+      "src/codegen/riscv64/macro-assembler-riscv64.h",
+      "src/codegen/riscv64/register-riscv64.h",
+      "src/compiler/backend/riscv64/instruction-codes-riscv64.h",
+      "src/execution/riscv64/frame-constants-riscv64.h",
+      "src/execution/riscv64/simulator-riscv64.h",
+      "src/regexp/riscv64/regexp-macro-assembler-riscv64.h",
+      "src/wasm/baseline/riscv64/liftoff-assembler-riscv64.h",
+    ]
+  }
+
+  public_deps = [
+    ":torque_runtime_support",
+    ":v8_headers",
+    ":v8_maybe_icu",
+    ":v8_shared_internal_headers",
+  ]
+
+  deps = [
+    ":generate_bytecode_builtins_list",
+    ":run_torque",
+    ":v8_libbase",
+  ]
+}
+
+v8_compiler_sources = [
+  ### gcmole(all) ###
+  "src/compiler/access-builder.cc",
+  "src/compiler/access-info.cc",
+  "src/compiler/add-type-assertions-reducer.cc",
+  "src/compiler/all-nodes.cc",
+  "src/compiler/backend/code-generator.cc",
+  "src/compiler/backend/frame-elider.cc",
+  "src/compiler/backend/gap-resolver.cc",
+  "src/compiler/backend/instruction-scheduler.cc",
+  "src/compiler/backend/instruction-selector.cc",
+  "src/compiler/backend/instruction.cc",
+  "src/compiler/backend/jump-threading.cc",
+  "src/compiler/backend/mid-tier-register-allocator.cc",
+  "src/compiler/backend/move-optimizer.cc",
+  "src/compiler/backend/register-allocator-verifier.cc",
+  "src/compiler/backend/register-allocator.cc",
+  "src/compiler/backend/spill-placer.cc",
+  "src/compiler/basic-block-instrumentor.cc",
+  "src/compiler/branch-elimination.cc",
+  "src/compiler/bytecode-analysis.cc",
+  "src/compiler/bytecode-graph-builder.cc",
+  "src/compiler/bytecode-liveness-map.cc",
+  "src/compiler/c-linkage.cc",
+  "src/compiler/checkpoint-elimination.cc",
+  "src/compiler/code-assembler.cc",
+  "src/compiler/common-node-cache.cc",
+  "src/compiler/common-operator-reducer.cc",
+  "src/compiler/common-operator.cc",
+  "src/compiler/compilation-dependencies.cc",
+  "src/compiler/compiler-source-position-table.cc",
+  "src/compiler/constant-folding-reducer.cc",
+  "src/compiler/control-equivalence.cc",
+  "src/compiler/control-flow-optimizer.cc",
+  "src/compiler/csa-load-elimination.cc",
+  "src/compiler/dead-code-elimination.cc",
+  "src/compiler/decompression-optimizer.cc",
+  "src/compiler/effect-control-linearizer.cc",
+  "src/compiler/escape-analysis-reducer.cc",
+  "src/compiler/escape-analysis.cc",
+  "src/compiler/feedback-source.cc",
+  "src/compiler/frame-states.cc",
+  "src/compiler/frame.cc",
+  "src/compiler/graph-assembler.cc",
+  "src/compiler/graph-reducer.cc",
+  "src/compiler/graph-trimmer.cc",
+  "src/compiler/graph-visualizer.cc",
+  "src/compiler/graph.cc",
+  "src/compiler/int64-lowering.cc",
+  "src/compiler/js-call-reducer.cc",
+  "src/compiler/js-context-specialization.cc",
+  "src/compiler/js-create-lowering.cc",
+  "src/compiler/js-generic-lowering.cc",
+  "src/compiler/js-graph.cc",
+  "src/compiler/js-heap-broker.cc",
+  "src/compiler/js-heap-copy-reducer.cc",
+  "src/compiler/js-inlining-heuristic.cc",
+  "src/compiler/js-inlining.cc",
+  "src/compiler/js-intrinsic-lowering.cc",
+  "src/compiler/js-native-context-specialization.cc",
+  "src/compiler/js-operator.cc",
+  "src/compiler/js-type-hint-lowering.cc",
+  "src/compiler/js-typed-lowering.cc",
+  "src/compiler/linkage.cc",
+  "src/compiler/load-elimination.cc",
+  "src/compiler/loop-analysis.cc",
+  "src/compiler/loop-peeling.cc",
+  "src/compiler/loop-unrolling.cc",
+  "src/compiler/loop-variable-optimizer.cc",
+  "src/compiler/machine-graph-verifier.cc",
+  "src/compiler/machine-graph.cc",
+  "src/compiler/machine-operator-reducer.cc",
+  "src/compiler/machine-operator.cc",
+  "src/compiler/map-inference.cc",
+  "src/compiler/memory-lowering.cc",
+  "src/compiler/memory-optimizer.cc",
+  "src/compiler/node-marker.cc",
+  "src/compiler/node-matchers.cc",
+  "src/compiler/node-observer.cc",
+  "src/compiler/node-origin-table.cc",
+  "src/compiler/node-properties.cc",
+  "src/compiler/node.cc",
+  "src/compiler/opcodes.cc",
+  "src/compiler/operation-typer.cc",
+  "src/compiler/operator-properties.cc",
+  "src/compiler/operator.cc",
+  "src/compiler/osr.cc",
+  "src/compiler/pipeline-statistics.cc",
+  "src/compiler/pipeline.cc",
+  "src/compiler/property-access-builder.cc",
+  "src/compiler/raw-machine-assembler.cc",
+  "src/compiler/redundancy-elimination.cc",
+  "src/compiler/refs-map.cc",
+  "src/compiler/representation-change.cc",
+  "src/compiler/schedule.cc",
+  "src/compiler/scheduled-machine-lowering.cc",
+  "src/compiler/scheduler.cc",
+  "src/compiler/select-lowering.cc",
+  "src/compiler/serializer-for-background-compilation.cc",
+  "src/compiler/simd-scalar-lowering.cc",
+  "src/compiler/simplified-lowering.cc",
+  "src/compiler/simplified-operator-reducer.cc",
+  "src/compiler/simplified-operator.cc",
+  "src/compiler/state-values-utils.cc",
+  "src/compiler/store-store-elimination.cc",
+  "src/compiler/type-cache.cc",
+  "src/compiler/type-narrowing-reducer.cc",
+  "src/compiler/typed-optimization.cc",
+  "src/compiler/typer.cc",
+  "src/compiler/types.cc",
+  "src/compiler/value-numbering-reducer.cc",
+  "src/compiler/verifier.cc",
+  "src/compiler/wasm-compiler.cc",
+  "src/compiler/zone-stats.cc",
+]
+
+# The src/compiler files with optimizations.
+v8_source_set("v8_compiler_opt") {
+  visibility = [ ":*" ]  # Only targets in this file can depend on this.
+
+  sources = v8_compiler_sources
+
+  public_deps = [
+    ":generate_bytecode_builtins_list",
+    ":run_torque",
+    ":v8_maybe_icu",
+    ":v8_tracing",
+  ]
+
+  deps = [
+    ":v8_base_without_compiler",
+    ":v8_internal_headers",
+    ":v8_libbase",
+    ":v8_shared_internal_headers",
+  ]
+
+  if (is_debug && !v8_optimized_debug && v8_enable_fast_mksnapshot) {
+    # The :no_optimize config is added to v8_add_configs in v8.gni.
+    remove_configs = [ "//build/config/compiler:no_optimize" ]
+    configs = [ ":always_optimize" ]
+  } else {
+    # Without this else branch, gn fails to generate build files for non-debug
+    # builds (because we try to remove a config that is not present).
+    # So we include it, even if this config is not used outside of debug builds.
+    configs = [ ":internal_config" ]
+  }
+}
+
+# The src/compiler files with default optimization behavior.
+v8_source_set("v8_compiler") {
+  visibility = [ ":*" ]  # Only targets in this file can depend on this.
+
+  sources = v8_compiler_sources
+
+  public_deps = [
+    ":generate_bytecode_builtins_list",
+    ":run_torque",
+    ":v8_internal_headers",
+    ":v8_maybe_icu",
+    ":v8_tracing",
+  ]
+
+  deps = [
+    ":v8_base_without_compiler",
+    ":v8_libbase",
+    ":v8_shared_internal_headers",
+  ]
+
+  configs = [ ":internal_config" ]
+}
+
+group("v8_compiler_for_mksnapshot") {
+  if (is_debug && !v8_optimized_debug && v8_enable_fast_mksnapshot) {
+    deps = [ ":v8_compiler_opt" ]
+  } else {
+    deps = [ ":v8_compiler" ]
+  }
+}
+
+# Any target using trace events must directly or indirectly depend on
+# v8_tracing.
+group("v8_tracing") {
+  if (v8_use_perfetto) {
+    if (build_with_chromium) {
+      public_deps = [ "//third_party/perfetto:libperfetto" ]
+    } else {
+      public_deps = [ ":v8_libperfetto" ]
+    }
+  }
+}
+
+v8_source_set("v8_base_without_compiler") {
+  visibility = [ ":*" ]  # Only targets in this file can depend on this.
+
+  # Split static libraries on windows into two.
+  split_count = 2
+
+  sources = [
+    ### gcmole(all) ###
+    "src/api/api-arguments.cc",
+    "src/api/api-natives.cc",
+    "src/api/api.cc",
+    "src/ast/ast-function-literal-id-reindexer.cc",
+    "src/ast/ast-value-factory.cc",
+    "src/ast/ast.cc",
+    "src/ast/modules.cc",
+    "src/ast/prettyprinter.cc",
+    "src/ast/scopes.cc",
+    "src/ast/source-range-ast-visitor.cc",
+    "src/ast/variables.cc",
+    "src/baseline/baseline-compiler.cc",
+    "src/baseline/baseline.cc",
+    "src/builtins/accessors.cc",
+    "src/builtins/builtins-api.cc",
+    "src/builtins/builtins-array.cc",
+    "src/builtins/builtins-arraybuffer.cc",
+    "src/builtins/builtins-async-module.cc",
+    "src/builtins/builtins-bigint.cc",
+    "src/builtins/builtins-callsite.cc",
+    "src/builtins/builtins-collections.cc",
+    "src/builtins/builtins-console.cc",
+    "src/builtins/builtins-dataview.cc",
+    "src/builtins/builtins-date.cc",
+    "src/builtins/builtins-error.cc",
+    "src/builtins/builtins-function.cc",
+    "src/builtins/builtins-global.cc",
+    "src/builtins/builtins-internal.cc",
+    "src/builtins/builtins-intl.cc",
+    "src/builtins/builtins-json.cc",
+    "src/builtins/builtins-number.cc",
+    "src/builtins/builtins-object.cc",
+    "src/builtins/builtins-reflect.cc",
+    "src/builtins/builtins-regexp.cc",
+    "src/builtins/builtins-sharedarraybuffer.cc",
+    "src/builtins/builtins-string.cc",
+    "src/builtins/builtins-symbol.cc",
+    "src/builtins/builtins-trace.cc",
+    "src/builtins/builtins-typed-array.cc",
+    "src/builtins/builtins-weak-refs.cc",
+    "src/builtins/builtins.cc",
+    "src/builtins/constants-table-builder.cc",
+    "src/codegen/assembler.cc",
+    "src/codegen/bailout-reason.cc",
+    "src/codegen/code-comments.cc",
+    "src/codegen/code-desc.cc",
+    "src/codegen/code-factory.cc",
+    "src/codegen/code-reference.cc",
+    "src/codegen/compilation-cache.cc",
+    "src/codegen/compiler.cc",
+    "src/codegen/constant-pool.cc",
+    "src/codegen/external-reference-encoder.cc",
+    "src/codegen/external-reference-table.cc",
+    "src/codegen/external-reference.cc",
+    "src/codegen/flush-instruction-cache.cc",
+    "src/codegen/handler-table.cc",
+    "src/codegen/interface-descriptors.cc",
+    "src/codegen/machine-type.cc",
+    "src/codegen/optimized-compilation-info.cc",
+    "src/codegen/pending-optimization-table.cc",
+    "src/codegen/register-configuration.cc",
+    "src/codegen/register.cc",
+    "src/codegen/reloc-info.cc",
+    "src/codegen/safepoint-table.cc",
+    "src/codegen/source-position-table.cc",
+    "src/codegen/source-position.cc",
+    "src/codegen/string-constants.cc",
+    "src/codegen/tick-counter.cc",
+    "src/codegen/tnode.cc",
+    "src/codegen/turbo-assembler.cc",
+    "src/codegen/unoptimized-compilation-info.cc",
+    "src/common/assert-scope.cc",
+    "src/compiler-dispatcher/compiler-dispatcher.cc",
+    "src/compiler-dispatcher/optimizing-compile-dispatcher.cc",
+    "src/date/date.cc",
+    "src/date/dateparser.cc",
+    "src/debug/debug-coverage.cc",
+    "src/debug/debug-evaluate.cc",
+    "src/debug/debug-frames.cc",
+    "src/debug/debug-interface.cc",
+    "src/debug/debug-property-iterator.cc",
+    "src/debug/debug-scope-iterator.cc",
+    "src/debug/debug-scopes.cc",
+    "src/debug/debug-stack-trace-iterator.cc",
+    "src/debug/debug-type-profile.cc",
+    "src/debug/debug-wasm-objects.cc",
+    "src/debug/debug.cc",
+    "src/debug/liveedit.cc",
+    "src/deoptimizer/deoptimize-reason.cc",
+    "src/deoptimizer/deoptimized-frame-info.cc",
+    "src/deoptimizer/deoptimizer.cc",
+    "src/deoptimizer/materialized-object-store.cc",
+    "src/deoptimizer/translated-state.cc",
+    "src/deoptimizer/translation-array.cc",
+    "src/diagnostics/basic-block-profiler.cc",
+    "src/diagnostics/compilation-statistics.cc",
+    "src/diagnostics/disassembler.cc",
+    "src/diagnostics/eh-frame.cc",
+    "src/diagnostics/gdb-jit.cc",
+    "src/diagnostics/objects-debug.cc",
+    "src/diagnostics/objects-printer.cc",
+    "src/diagnostics/perf-jit.cc",
+    "src/diagnostics/unwinder.cc",
+    "src/execution/arguments.cc",
+    "src/execution/execution.cc",
+    "src/execution/external-pointer-table.cc",
+    "src/execution/frames.cc",
+    "src/execution/futex-emulation.cc",
+    "src/execution/interrupts-scope.cc",
+    "src/execution/isolate.cc",
+    "src/execution/local-isolate.cc",
+    "src/execution/messages.cc",
+    "src/execution/microtask-queue.cc",
+    "src/execution/protectors.cc",
+    "src/execution/runtime-profiler.cc",
+    "src/execution/simulator-base.cc",
+    "src/execution/stack-guard.cc",
+    "src/execution/thread-id.cc",
+    "src/execution/thread-local-top.cc",
+    "src/execution/v8threads.cc",
+    "src/extensions/cputracemark-extension.cc",
+    "src/extensions/externalize-string-extension.cc",
+    "src/extensions/gc-extension.cc",
+    "src/extensions/ignition-statistics-extension.cc",
+    "src/extensions/statistics-extension.cc",
+    "src/extensions/trigger-failure-extension.cc",
+    "src/flags/flags.cc",
+    "src/handles/global-handles.cc",
+    "src/handles/handles.cc",
+    "src/handles/local-handles.cc",
+    "src/handles/persistent-handles.cc",
+    "src/heap/allocation-observer.cc",
+    "src/heap/array-buffer-sweeper.cc",
+    "src/heap/base-space.cc",
+    "src/heap/basic-memory-chunk.cc",
+    "src/heap/code-object-registry.cc",
+    "src/heap/code-stats.cc",
+    "src/heap/collection-barrier.cc",
+    "src/heap/combined-heap.cc",
+    "src/heap/concurrent-allocator.cc",
+    "src/heap/concurrent-marking.cc",
+    "src/heap/cppgc-js/cpp-heap.cc",
+    "src/heap/cppgc-js/cpp-snapshot.cc",
+    "src/heap/cppgc-js/unified-heap-marking-verifier.cc",
+    "src/heap/cppgc-js/unified-heap-marking-visitor.cc",
+    "src/heap/embedder-tracing.cc",
+    "src/heap/factory-base.cc",
+    "src/heap/factory.cc",
+    "src/heap/finalization-registry-cleanup-task.cc",
+    "src/heap/free-list.cc",
+    "src/heap/gc-idle-time-handler.cc",
+    "src/heap/gc-tracer.cc",
+    "src/heap/heap-controller.cc",
+    "src/heap/heap-write-barrier.cc",
+    "src/heap/heap.cc",
+    "src/heap/incremental-marking-job.cc",
+    "src/heap/incremental-marking.cc",
+    "src/heap/index-generator.cc",
+    "src/heap/invalidated-slots.cc",
+    "src/heap/item-parallel-job.cc",
+    "src/heap/large-spaces.cc",
+    "src/heap/local-factory.cc",
+    "src/heap/local-heap.cc",
+    "src/heap/mark-compact.cc",
+    "src/heap/marking-barrier.cc",
+    "src/heap/marking-worklist.cc",
+    "src/heap/marking.cc",
+    "src/heap/memory-allocator.cc",
+    "src/heap/memory-chunk-layout.cc",
+    "src/heap/memory-chunk.cc",
+    "src/heap/memory-measurement.cc",
+    "src/heap/memory-reducer.cc",
+    "src/heap/new-spaces.cc",
+    "src/heap/object-stats.cc",
+    "src/heap/objects-visiting.cc",
+    "src/heap/paged-spaces.cc",
+    "src/heap/read-only-heap.cc",
+    "src/heap/read-only-spaces.cc",
+    "src/heap/safepoint.cc",
+    "src/heap/scavenge-job.cc",
+    "src/heap/scavenger.cc",
+    "src/heap/slot-set.cc",
+    "src/heap/spaces.cc",
+    "src/heap/stress-marking-observer.cc",
+    "src/heap/stress-scavenge-observer.cc",
+    "src/heap/sweeper.cc",
+    "src/heap/weak-object-worklists.cc",
+    "src/ic/call-optimization.cc",
+    "src/ic/handler-configuration.cc",
+    "src/ic/ic-stats.cc",
+    "src/ic/ic.cc",
+    "src/ic/stub-cache.cc",
+    "src/init/bootstrapper.cc",
+    "src/init/icu_util.cc",
+    "src/init/isolate-allocator.cc",
+    "src/init/startup-data-util.cc",
+    "src/init/v8.cc",
+    "src/interpreter/bytecode-array-builder.cc",
+    "src/interpreter/bytecode-array-iterator.cc",
+    "src/interpreter/bytecode-array-random-iterator.cc",
+    "src/interpreter/bytecode-array-writer.cc",
+    "src/interpreter/bytecode-decoder.cc",
+    "src/interpreter/bytecode-flags.cc",
+    "src/interpreter/bytecode-generator.cc",
+    "src/interpreter/bytecode-label.cc",
+    "src/interpreter/bytecode-node.cc",
+    "src/interpreter/bytecode-operands.cc",
+    "src/interpreter/bytecode-register-optimizer.cc",
+    "src/interpreter/bytecode-register.cc",
+    "src/interpreter/bytecode-source-info.cc",
+    "src/interpreter/bytecodes.cc",
+    "src/interpreter/constant-array-builder.cc",
+    "src/interpreter/control-flow-builders.cc",
+    "src/interpreter/handler-table-builder.cc",
+    "src/interpreter/interpreter-intrinsics.cc",
+    "src/interpreter/interpreter.cc",
+    "src/json/json-parser.cc",
+    "src/json/json-stringifier.cc",
+    "src/logging/counters.cc",
+    "src/logging/local-logger.cc",
+    "src/logging/log-utils.cc",
+    "src/logging/log.cc",
+    "src/logging/metrics.cc",
+    "src/logging/tracing-flags.cc",
+    "src/numbers/bignum-dtoa.cc",
+    "src/numbers/bignum.cc",
+    "src/numbers/cached-powers.cc",
+    "src/numbers/conversions.cc",
+    "src/numbers/diy-fp.cc",
+    "src/numbers/dtoa.cc",
+    "src/numbers/fast-dtoa.cc",
+    "src/numbers/fixed-dtoa.cc",
+    "src/numbers/math-random.cc",
+    "src/numbers/strtod.cc",
+    "src/objects/backing-store.cc",
+    "src/objects/bigint.cc",
+    "src/objects/code-kind.cc",
+    "src/objects/code.cc",
+    "src/objects/compilation-cache-table.cc",
+    "src/objects/contexts.cc",
+    "src/objects/debug-objects.cc",
+    "src/objects/elements-kind.cc",
+    "src/objects/elements.cc",
+    "src/objects/embedder-data-array.cc",
+    "src/objects/feedback-vector.cc",
+    "src/objects/field-type.cc",
+    "src/objects/intl-objects.cc",
+    "src/objects/js-array-buffer.cc",
+    "src/objects/js-break-iterator.cc",
+    "src/objects/js-collator.cc",
+    "src/objects/js-date-time-format.cc",
+    "src/objects/js-display-names.cc",
+    "src/objects/js-function.cc",
+    "src/objects/js-list-format.cc",
+    "src/objects/js-locale.cc",
+    "src/objects/js-number-format.cc",
+    "src/objects/js-objects.cc",
+    "src/objects/js-plural-rules.cc",
+    "src/objects/js-regexp.cc",
+    "src/objects/js-relative-time-format.cc",
+    "src/objects/js-segment-iterator.cc",
+    "src/objects/js-segmenter.cc",
+    "src/objects/js-segments.cc",
+    "src/objects/keys.cc",
+    "src/objects/literal-objects.cc",
+    "src/objects/lookup-cache.cc",
+    "src/objects/lookup.cc",
+    "src/objects/managed.cc",
+    "src/objects/map-updater.cc",
+    "src/objects/map.cc",
+    "src/objects/module.cc",
+    "src/objects/objects.cc",
+    "src/objects/ordered-hash-table.cc",
+    "src/objects/osr-optimized-code-cache.cc",
+    "src/objects/property-descriptor.cc",
+    "src/objects/property.cc",
+    "src/objects/scope-info.cc",
+    "src/objects/shared-function-info.cc",
+    "src/objects/source-text-module.cc",
+    "src/objects/stack-frame-info.cc",
+    "src/objects/string-comparator.cc",
+    "src/objects/string-table.cc",
+    "src/objects/string.cc",
+    "src/objects/swiss-name-dictionary.cc",
+    "src/objects/synthetic-module.cc",
+    "src/objects/tagged-impl.cc",
+    "src/objects/template-objects.cc",
+    "src/objects/transitions.cc",
+    "src/objects/type-hints.cc",
+    "src/objects/value-serializer.cc",
+    "src/objects/visitors.cc",
+    "src/parsing/func-name-inferrer.cc",
+    "src/parsing/import-assertions.cc",
+    "src/parsing/literal-buffer.cc",
+    "src/parsing/parse-info.cc",
+    "src/parsing/parser.cc",
+    "src/parsing/parsing.cc",
+    "src/parsing/pending-compilation-error-handler.cc",
+    "src/parsing/preparse-data.cc",
+    "src/parsing/preparser.cc",
+    "src/parsing/rewriter.cc",
+    "src/parsing/scanner-character-streams.cc",
+    "src/parsing/scanner.cc",
+    "src/parsing/token.cc",
+    "src/profiler/allocation-tracker.cc",
+    "src/profiler/cpu-profiler.cc",
     "src/profiler/heap-profiler.cc",
-    "src/profiler/heap-profiler.h",
-    "src/profiler/heap-snapshot-generator-inl.h",
     "src/profiler/heap-snapshot-generator.cc",
-    "src/profiler/heap-snapshot-generator.h",
-    "src/profiler/profile-generator-inl.h",
     "src/profiler/profile-generator.cc",
-    "src/profiler/profile-generator.h",
     "src/profiler/profiler-listener.cc",
-    "src/profiler/profiler-listener.h",
     "src/profiler/profiler-stats.cc",
-    "src/profiler/profiler-stats.h",
     "src/profiler/sampling-heap-profiler.cc",
-    "src/profiler/sampling-heap-profiler.h",
     "src/profiler/strings-storage.cc",
-    "src/profiler/strings-storage.h",
     "src/profiler/symbolizer.cc",
-    "src/profiler/symbolizer.h",
     "src/profiler/tick-sample.cc",
-    "src/profiler/tick-sample.h",
     "src/profiler/tracing-cpu-profiler.cc",
-    "src/profiler/tracing-cpu-profiler.h",
     "src/regexp/experimental/experimental-bytecode.cc",
-    "src/regexp/experimental/experimental-bytecode.h",
     "src/regexp/experimental/experimental-compiler.cc",
-    "src/regexp/experimental/experimental-compiler.h",
     "src/regexp/experimental/experimental-interpreter.cc",
-    "src/regexp/experimental/experimental-interpreter.h",
     "src/regexp/experimental/experimental.cc",
-    "src/regexp/experimental/experimental.h",
     "src/regexp/property-sequences.cc",
-    "src/regexp/property-sequences.h",
     "src/regexp/regexp-ast.cc",
-    "src/regexp/regexp-ast.h",
-    "src/regexp/regexp-bytecode-generator-inl.h",
     "src/regexp/regexp-bytecode-generator.cc",
-    "src/regexp/regexp-bytecode-generator.h",
     "src/regexp/regexp-bytecode-peephole.cc",
-    "src/regexp/regexp-bytecode-peephole.h",
     "src/regexp/regexp-bytecodes.cc",
-    "src/regexp/regexp-bytecodes.h",
     "src/regexp/regexp-compiler-tonode.cc",
     "src/regexp/regexp-compiler.cc",
-    "src/regexp/regexp-compiler.h",
     "src/regexp/regexp-dotprinter.cc",
-    "src/regexp/regexp-dotprinter.h",
     "src/regexp/regexp-error.cc",
-    "src/regexp/regexp-error.h",
     "src/regexp/regexp-interpreter.cc",
-    "src/regexp/regexp-interpreter.h",
-    "src/regexp/regexp-macro-assembler-arch.h",
     "src/regexp/regexp-macro-assembler-tracer.cc",
-    "src/regexp/regexp-macro-assembler-tracer.h",
     "src/regexp/regexp-macro-assembler.cc",
-    "src/regexp/regexp-macro-assembler.h",
-    "src/regexp/regexp-nodes.h",
     "src/regexp/regexp-parser.cc",
-    "src/regexp/regexp-parser.h",
     "src/regexp/regexp-stack.cc",
-    "src/regexp/regexp-stack.h",
     "src/regexp/regexp-utils.cc",
-    "src/regexp/regexp-utils.h",
     "src/regexp/regexp.cc",
-    "src/regexp/regexp.h",
-    "src/regexp/special-case.h",
-    "src/roots/roots-inl.h",
     "src/roots/roots.cc",
-    "src/roots/roots.h",
     "src/runtime/runtime-array.cc",
     "src/runtime/runtime-atomics.cc",
     "src/runtime/runtime-bigint.cc",
@@ -3443,233 +3818,100 @@ v8_source_set("v8_base_without_compiler") {
     "src/runtime/runtime-test.cc",
     "src/runtime/runtime-trace.cc",
     "src/runtime/runtime-typedarray.cc",
-    "src/runtime/runtime-utils.h",
     "src/runtime/runtime-wasm.cc",
     "src/runtime/runtime-weak-refs.cc",
     "src/runtime/runtime.cc",
-    "src/runtime/runtime.h",
-    "src/sanitizer/asan.h",
     "src/sanitizer/lsan-page-allocator.cc",
-    "src/sanitizer/lsan-page-allocator.h",
-    "src/sanitizer/msan.h",
-    "src/sanitizer/tsan.h",
     "src/snapshot/code-serializer.cc",
-    "src/snapshot/code-serializer.h",
     "src/snapshot/context-deserializer.cc",
-    "src/snapshot/context-deserializer.h",
     "src/snapshot/context-serializer.cc",
-    "src/snapshot/context-serializer.h",
     "src/snapshot/deserializer.cc",
-    "src/snapshot/deserializer.h",
     "src/snapshot/embedded/embedded-data.cc",
-    "src/snapshot/embedded/embedded-data.h",
     "src/snapshot/object-deserializer.cc",
-    "src/snapshot/object-deserializer.h",
     "src/snapshot/read-only-deserializer.cc",
-    "src/snapshot/read-only-deserializer.h",
     "src/snapshot/read-only-serializer.cc",
-    "src/snapshot/read-only-serializer.h",
-    "src/snapshot/references.h",
     "src/snapshot/roots-serializer.cc",
-    "src/snapshot/roots-serializer.h",
     "src/snapshot/serializer-deserializer.cc",
-    "src/snapshot/serializer-deserializer.h",
     "src/snapshot/serializer.cc",
-    "src/snapshot/serializer.h",
     "src/snapshot/snapshot-compression.cc",
-    "src/snapshot/snapshot-compression.h",
     "src/snapshot/snapshot-data.cc",
-    "src/snapshot/snapshot-data.h",
     "src/snapshot/snapshot-source-sink.cc",
-    "src/snapshot/snapshot-source-sink.h",
     "src/snapshot/snapshot-utils.cc",
-    "src/snapshot/snapshot-utils.h",
     "src/snapshot/snapshot.cc",
-    "src/snapshot/snapshot.h",
     "src/snapshot/startup-deserializer.cc",
-    "src/snapshot/startup-deserializer.h",
     "src/snapshot/startup-serializer.cc",
-    "src/snapshot/startup-serializer.h",
-    "src/strings/char-predicates-inl.h",
     "src/strings/char-predicates.cc",
-    "src/strings/char-predicates.h",
-    "src/strings/string-builder-inl.h",
     "src/strings/string-builder.cc",
     "src/strings/string-case.cc",
-    "src/strings/string-case.h",
-    "src/strings/string-hasher-inl.h",
-    "src/strings/string-hasher.h",
-    "src/strings/string-search.h",
     "src/strings/string-stream.cc",
-    "src/strings/string-stream.h",
     "src/strings/unicode-decoder.cc",
-    "src/strings/unicode-decoder.h",
-    "src/strings/unicode-inl.h",
     "src/strings/unicode.cc",
-    "src/strings/unicode.h",
     "src/strings/uri.cc",
-    "src/strings/uri.h",
     "src/tasks/cancelable-task.cc",
-    "src/tasks/cancelable-task.h",
     "src/tasks/operations-barrier.cc",
-    "src/tasks/operations-barrier.h",
     "src/tasks/task-utils.cc",
-    "src/tasks/task-utils.h",
     "src/third_party/siphash/halfsiphash.cc",
-    "src/third_party/siphash/halfsiphash.h",
-    "src/third_party/utf8-decoder/utf8-decoder.h",
     "src/tracing/trace-event.cc",
-    "src/tracing/trace-event.h",
     "src/tracing/traced-value.cc",
-    "src/tracing/traced-value.h",
     "src/tracing/tracing-category-observer.cc",
-    "src/tracing/tracing-category-observer.h",
     "src/trap-handler/handler-inside.cc",
     "src/trap-handler/handler-outside.cc",
     "src/trap-handler/handler-shared.cc",
-    "src/trap-handler/trap-handler-internal.h",
-    "src/trap-handler/trap-handler.h",
     "src/utils/address-map.cc",
-    "src/utils/address-map.h",
     "src/utils/allocation.cc",
-    "src/utils/allocation.h",
     "src/utils/bit-vector.cc",
-    "src/utils/bit-vector.h",
-    "src/utils/boxed-float.h",
     "src/utils/detachable-vector.cc",
-    "src/utils/detachable-vector.h",
     "src/utils/identity-map.cc",
-    "src/utils/identity-map.h",
-    "src/utils/locked-queue-inl.h",
-    "src/utils/locked-queue.h",
     "src/utils/memcopy.cc",
-    "src/utils/memcopy.h",
     "src/utils/ostreams.cc",
-    "src/utils/ostreams.h",
-    "src/utils/pointer-with-payload.h",
-    "src/utils/scoped-list.h",
-    "src/utils/utils-inl.h",
     "src/utils/utils.cc",
-    "src/utils/utils.h",
-    "src/utils/vector.h",
     "src/utils/version.cc",
-    "src/utils/version.h",
-    "src/wasm/baseline/liftoff-assembler-defs.h",
     "src/wasm/baseline/liftoff-assembler.cc",
-    "src/wasm/baseline/liftoff-assembler.h",
     "src/wasm/baseline/liftoff-compiler.cc",
-    "src/wasm/baseline/liftoff-compiler.h",
-    "src/wasm/baseline/liftoff-register.h",
-    "src/wasm/code-space-access.h",
-    "src/wasm/compilation-environment.h",
-    "src/wasm/decoder.h",
-    "src/wasm/function-body-decoder-impl.h",
     "src/wasm/function-body-decoder.cc",
-    "src/wasm/function-body-decoder.h",
     "src/wasm/function-compiler.cc",
-    "src/wasm/function-compiler.h",
     "src/wasm/graph-builder-interface.cc",
-    "src/wasm/graph-builder-interface.h",
     "src/wasm/jump-table-assembler.cc",
-    "src/wasm/jump-table-assembler.h",
-    "src/wasm/leb-helper.h",
     "src/wasm/local-decl-encoder.cc",
-    "src/wasm/local-decl-encoder.h",
     "src/wasm/memory-tracing.cc",
-    "src/wasm/memory-tracing.h",
     "src/wasm/module-compiler.cc",
-    "src/wasm/module-compiler.h",
     "src/wasm/module-decoder.cc",
-    "src/wasm/module-decoder.h",
     "src/wasm/module-instantiate.cc",
-    "src/wasm/module-instantiate.h",
-    "src/wasm/object-access.h",
     "src/wasm/signature-map.cc",
-    "src/wasm/signature-map.h",
     "src/wasm/simd-shuffle.cc",
-    "src/wasm/simd-shuffle.h",
     "src/wasm/streaming-decoder.cc",
-    "src/wasm/streaming-decoder.h",
-    "src/wasm/struct-types.h",
     "src/wasm/sync-streaming-decoder.cc",
     "src/wasm/value-type.cc",
-    "src/wasm/value-type.h",
-    "src/wasm/wasm-arguments.h",
     "src/wasm/wasm-code-manager.cc",
-    "src/wasm/wasm-code-manager.h",
-    "src/wasm/wasm-constants.h",
     "src/wasm/wasm-debug.cc",
     "src/wasm/wasm-engine.cc",
-    "src/wasm/wasm-engine.h",
     "src/wasm/wasm-external-refs.cc",
-    "src/wasm/wasm-external-refs.h",
-    "src/wasm/wasm-feature-flags.h",
     "src/wasm/wasm-features.cc",
-    "src/wasm/wasm-features.h",
     "src/wasm/wasm-import-wrapper-cache.cc",
-    "src/wasm/wasm-import-wrapper-cache.h",
     "src/wasm/wasm-js.cc",
-    "src/wasm/wasm-js.h",
-    "src/wasm/wasm-limits.h",
-    "src/wasm/wasm-linkage.h",
     "src/wasm/wasm-module-builder.cc",
-    "src/wasm/wasm-module-builder.h",
     "src/wasm/wasm-module-sourcemap.cc",
-    "src/wasm/wasm-module-sourcemap.h",
     "src/wasm/wasm-module.cc",
-    "src/wasm/wasm-module.h",
-    "src/wasm/wasm-objects-inl.h",
     "src/wasm/wasm-objects.cc",
-    "src/wasm/wasm-objects.h",
     "src/wasm/wasm-opcodes.cc",
-    "src/wasm/wasm-opcodes.h",
     "src/wasm/wasm-result.cc",
-    "src/wasm/wasm-result.h",
     "src/wasm/wasm-serialization.cc",
-    "src/wasm/wasm-serialization.h",
     "src/wasm/wasm-subtyping.cc",
-    "src/wasm/wasm-subtyping.h",
-    "src/wasm/wasm-tier.h",
-    "src/wasm/wasm-value.h",
     "src/zone/accounting-allocator.cc",
-    "src/zone/accounting-allocator.h",
-    "src/zone/compressed-zone-ptr.h",
     "src/zone/type-stats.cc",
-    "src/zone/type-stats.h",
-    "src/zone/zone-allocator.h",
-    "src/zone/zone-chunk-list.h",
-    "src/zone/zone-compression.h",
-    "src/zone/zone-containers.h",
-    "src/zone/zone-handle-set.h",
-    "src/zone/zone-hashmap.h",
-    "src/zone/zone-list-inl.h",
-    "src/zone/zone-list.h",
     "src/zone/zone-segment.cc",
-    "src/zone/zone-segment.h",
-    "src/zone/zone-type-traits.h",
-    "src/zone/zone-utils.h",
     "src/zone/zone.cc",
-    "src/zone/zone.h",
   ]
 
   if (v8_enable_webassembly) {
     sources += [
       "src/asmjs/asm-js.cc",
-      "src/asmjs/asm-js.h",
-      "src/asmjs/asm-names.h",
       "src/asmjs/asm-parser.cc",
-      "src/asmjs/asm-parser.h",
       "src/asmjs/asm-scanner.cc",
-      "src/asmjs/asm-scanner.h",
       "src/asmjs/asm-types.cc",
-      "src/asmjs/asm-types.h",
     ]
   }
 
-  if (!v8_control_flow_integrity) {
-    sources += [ "src/execution/pointer-authentication-dummy.h" ]
-  }
-
   if (v8_enable_third_party_heap) {
     sources += v8_third_party_heap_files
   } else {
@@ -3677,31 +3919,19 @@ v8_source_set("v8_base_without_compiler") {
   }
 
   if (v8_enable_conservative_stack_scanning) {
-    sources += [
-      "src/heap/conservative-stack-visitor.cc",
-      "src/heap/conservative-stack-visitor.h",
-      "src/heap/object-start-bitmap.h",
-    ]
+    sources += [ "src/heap/conservative-stack-visitor.cc" ]
   }
 
   if (v8_enable_wasm_gdb_remote_debugging) {
     sources += [
       "src/debug/wasm/gdb-server/gdb-remote-util.cc",
-      "src/debug/wasm/gdb-server/gdb-remote-util.h",
       "src/debug/wasm/gdb-server/gdb-server-thread.cc",
-      "src/debug/wasm/gdb-server/gdb-server-thread.h",
       "src/debug/wasm/gdb-server/gdb-server.cc",
-      "src/debug/wasm/gdb-server/gdb-server.h",
       "src/debug/wasm/gdb-server/packet.cc",
-      "src/debug/wasm/gdb-server/packet.h",
       "src/debug/wasm/gdb-server/session.cc",
-      "src/debug/wasm/gdb-server/session.h",
       "src/debug/wasm/gdb-server/target.cc",
-      "src/debug/wasm/gdb-server/target.h",
       "src/debug/wasm/gdb-server/transport.cc",
-      "src/debug/wasm/gdb-server/transport.h",
       "src/debug/wasm/gdb-server/wasm-module-debug.cc",
-      "src/debug/wasm/gdb-server/wasm-module-debug.h",
     ]
   }
 
@@ -3714,20 +3944,11 @@ v8_source_set("v8_base_without_compiler") {
 
   if (v8_current_cpu == "x86") {
     sources += [  ### gcmole(arch:ia32) ###
-      "src/baseline/ia32/baseline-assembler-ia32-inl.h",
-      "src/baseline/ia32/baseline-compiler-ia32-inl.h",
-      "src/codegen/ia32/assembler-ia32-inl.h",
       "src/codegen/ia32/assembler-ia32.cc",
-      "src/codegen/ia32/assembler-ia32.h",
-      "src/codegen/ia32/constants-ia32.h",
       "src/codegen/ia32/cpu-ia32.cc",
       "src/codegen/ia32/interface-descriptors-ia32.cc",
       "src/codegen/ia32/macro-assembler-ia32.cc",
-      "src/codegen/ia32/macro-assembler-ia32.h",
-      "src/codegen/ia32/register-ia32.h",
-      "src/codegen/ia32/sse-instr.h",
       "src/compiler/backend/ia32/code-generator-ia32.cc",
-      "src/compiler/backend/ia32/instruction-codes-ia32.h",
       "src/compiler/backend/ia32/instruction-scheduler-ia32.cc",
       "src/compiler/backend/ia32/instruction-selector-ia32.cc",
       "src/debug/ia32/debug-ia32.cc",
@@ -3735,43 +3956,25 @@ v8_source_set("v8_base_without_compiler") {
       "src/diagnostics/ia32/disasm-ia32.cc",
       "src/diagnostics/ia32/unwinder-ia32.cc",
       "src/execution/ia32/frame-constants-ia32.cc",
-      "src/execution/ia32/frame-constants-ia32.h",
       "src/regexp/ia32/regexp-macro-assembler-ia32.cc",
-      "src/regexp/ia32/regexp-macro-assembler-ia32.h",
-      "src/wasm/baseline/ia32/liftoff-assembler-ia32.h",
     ]
   } else if (v8_current_cpu == "x64") {
     sources += [  ### gcmole(arch:x64) ###
-      "src/baseline/x64/baseline-assembler-x64-inl.h",
-      "src/baseline/x64/baseline-compiler-x64-inl.h",
-      "src/codegen/x64/assembler-x64-inl.h",
       "src/codegen/x64/assembler-x64.cc",
-      "src/codegen/x64/assembler-x64.h",
-      "src/codegen/x64/constants-x64.h",
       "src/codegen/x64/cpu-x64.cc",
-      "src/codegen/x64/fma-instr.h",
       "src/codegen/x64/interface-descriptors-x64.cc",
       "src/codegen/x64/macro-assembler-x64.cc",
-      "src/codegen/x64/macro-assembler-x64.h",
-      "src/codegen/x64/register-x64.h",
-      "src/codegen/x64/sse-instr.h",
       "src/compiler/backend/x64/code-generator-x64.cc",
-      "src/compiler/backend/x64/instruction-codes-x64.h",
       "src/compiler/backend/x64/instruction-scheduler-x64.cc",
       "src/compiler/backend/x64/instruction-selector-x64.cc",
       "src/compiler/backend/x64/unwinding-info-writer-x64.cc",
-      "src/compiler/backend/x64/unwinding-info-writer-x64.h",
       "src/debug/x64/debug-x64.cc",
       "src/deoptimizer/x64/deoptimizer-x64.cc",
       "src/diagnostics/x64/disasm-x64.cc",
       "src/diagnostics/x64/eh-frame-x64.cc",
       "src/diagnostics/x64/unwinder-x64.cc",
       "src/execution/x64/frame-constants-x64.cc",
-      "src/execution/x64/frame-constants-x64.h",
       "src/regexp/x64/regexp-macro-assembler-x64.cc",
-      "src/regexp/x64/regexp-macro-assembler-x64.h",
-      "src/third_party/valgrind/valgrind.h",
-      "src/wasm/baseline/x64/liftoff-assembler-x64.h",
     ]
 
     # iOS Xcode simulator builds run on an x64 target. iOS and macOS are both
@@ -3779,129 +3982,79 @@ v8_source_set("v8_base_without_compiler") {
     if (is_linux || is_chromeos || is_mac || is_ios || target_os == "freebsd") {
       sources += [
         "src/trap-handler/handler-inside-posix.cc",
-        "src/trap-handler/handler-inside-posix.h",
         "src/trap-handler/handler-outside-posix.cc",
       ]
     }
     if (is_win) {
       sources += [
         "src/diagnostics/unwinding-info-win64.cc",
-        "src/diagnostics/unwinding-info-win64.h",
         "src/trap-handler/handler-inside-win.cc",
-        "src/trap-handler/handler-inside-win.h",
         "src/trap-handler/handler-outside-win.cc",
       ]
     }
   } else if (v8_current_cpu == "arm") {
     sources += [  ### gcmole(arch:arm) ###
-      "src/baseline/arm/baseline-assembler-arm-inl.h",
-      "src/baseline/arm/baseline-compiler-arm-inl.h",
-      "src/codegen/arm/assembler-arm-inl.h",
       "src/codegen/arm/assembler-arm.cc",
-      "src/codegen/arm/assembler-arm.h",
       "src/codegen/arm/constants-arm.cc",
-      "src/codegen/arm/constants-arm.h",
       "src/codegen/arm/cpu-arm.cc",
       "src/codegen/arm/interface-descriptors-arm.cc",
       "src/codegen/arm/macro-assembler-arm.cc",
-      "src/codegen/arm/macro-assembler-arm.h",
-      "src/codegen/arm/register-arm.h",
       "src/compiler/backend/arm/code-generator-arm.cc",
-      "src/compiler/backend/arm/instruction-codes-arm.h",
       "src/compiler/backend/arm/instruction-scheduler-arm.cc",
       "src/compiler/backend/arm/instruction-selector-arm.cc",
       "src/compiler/backend/arm/unwinding-info-writer-arm.cc",
-      "src/compiler/backend/arm/unwinding-info-writer-arm.h",
       "src/debug/arm/debug-arm.cc",
       "src/deoptimizer/arm/deoptimizer-arm.cc",
       "src/diagnostics/arm/disasm-arm.cc",
       "src/diagnostics/arm/eh-frame-arm.cc",
       "src/diagnostics/arm/unwinder-arm.cc",
       "src/execution/arm/frame-constants-arm.cc",
-      "src/execution/arm/frame-constants-arm.h",
       "src/execution/arm/simulator-arm.cc",
-      "src/execution/arm/simulator-arm.h",
       "src/regexp/arm/regexp-macro-assembler-arm.cc",
-      "src/regexp/arm/regexp-macro-assembler-arm.h",
-      "src/wasm/baseline/arm/liftoff-assembler-arm.h",
     ]
   } else if (v8_current_cpu == "arm64") {
     sources += [  ### gcmole(arch:arm64) ###
-      "src/baseline/arm64/baseline-assembler-arm64-inl.h",
-      "src/baseline/arm64/baseline-compiler-arm64-inl.h",
-      "src/codegen/arm64/assembler-arm64-inl.h",
       "src/codegen/arm64/assembler-arm64.cc",
-      "src/codegen/arm64/assembler-arm64.h",
-      "src/codegen/arm64/constants-arm64.h",
       "src/codegen/arm64/cpu-arm64.cc",
-      "src/codegen/arm64/decoder-arm64-inl.h",
       "src/codegen/arm64/decoder-arm64.cc",
-      "src/codegen/arm64/decoder-arm64.h",
       "src/codegen/arm64/instructions-arm64-constants.cc",
       "src/codegen/arm64/instructions-arm64.cc",
-      "src/codegen/arm64/instructions-arm64.h",
       "src/codegen/arm64/interface-descriptors-arm64.cc",
-      "src/codegen/arm64/macro-assembler-arm64-inl.h",
       "src/codegen/arm64/macro-assembler-arm64.cc",
-      "src/codegen/arm64/macro-assembler-arm64.h",
       "src/codegen/arm64/register-arm64.cc",
-      "src/codegen/arm64/register-arm64.h",
       "src/codegen/arm64/utils-arm64.cc",
-      "src/codegen/arm64/utils-arm64.h",
       "src/compiler/backend/arm64/code-generator-arm64.cc",
-      "src/compiler/backend/arm64/instruction-codes-arm64.h",
       "src/compiler/backend/arm64/instruction-scheduler-arm64.cc",
       "src/compiler/backend/arm64/instruction-selector-arm64.cc",
       "src/compiler/backend/arm64/unwinding-info-writer-arm64.cc",
-      "src/compiler/backend/arm64/unwinding-info-writer-arm64.h",
       "src/debug/arm64/debug-arm64.cc",
       "src/deoptimizer/arm64/deoptimizer-arm64.cc",
       "src/diagnostics/arm64/disasm-arm64.cc",
-      "src/diagnostics/arm64/disasm-arm64.h",
       "src/diagnostics/arm64/eh-frame-arm64.cc",
       "src/diagnostics/arm64/unwinder-arm64.cc",
       "src/execution/arm64/frame-constants-arm64.cc",
-      "src/execution/arm64/frame-constants-arm64.h",
       "src/execution/arm64/pointer-auth-arm64.cc",
       "src/execution/arm64/simulator-arm64.cc",
-      "src/execution/arm64/simulator-arm64.h",
       "src/execution/arm64/simulator-logic-arm64.cc",
       "src/regexp/arm64/regexp-macro-assembler-arm64.cc",
-      "src/regexp/arm64/regexp-macro-assembler-arm64.h",
-      "src/wasm/baseline/arm64/liftoff-assembler-arm64.h",
     ]
-    if (v8_control_flow_integrity) {
-      sources += [ "src/execution/arm64/pointer-authentication-arm64.h" ]
-    }
     if (current_cpu == "arm64" && is_mac) {
       sources += [
         "src/trap-handler/handler-inside-posix.cc",
-        "src/trap-handler/handler-inside-posix.h",
         "src/trap-handler/handler-outside-posix.cc",
       ]
     }
     if (is_win) {
-      sources += [
-        "src/diagnostics/unwinding-info-win64.cc",
-        "src/diagnostics/unwinding-info-win64.h",
-      ]
+      sources += [ "src/diagnostics/unwinding-info-win64.cc" ]
     }
   } else if (v8_current_cpu == "mips" || v8_current_cpu == "mipsel") {
     sources += [  ### gcmole(arch:mipsel) ###
-      "src/baseline/mips/baseline-assembler-mips-inl.h",
-      "src/baseline/mips/baseline-compiler-mips-inl.h",
-      "src/codegen/mips/assembler-mips-inl.h",
       "src/codegen/mips/assembler-mips.cc",
-      "src/codegen/mips/assembler-mips.h",
       "src/codegen/mips/constants-mips.cc",
-      "src/codegen/mips/constants-mips.h",
       "src/codegen/mips/cpu-mips.cc",
       "src/codegen/mips/interface-descriptors-mips.cc",
       "src/codegen/mips/macro-assembler-mips.cc",
-      "src/codegen/mips/macro-assembler-mips.h",
-      "src/codegen/mips/register-mips.h",
       "src/compiler/backend/mips/code-generator-mips.cc",
-      "src/compiler/backend/mips/instruction-codes-mips.h",
       "src/compiler/backend/mips/instruction-scheduler-mips.cc",
       "src/compiler/backend/mips/instruction-selector-mips.cc",
       "src/debug/mips/debug-mips.cc",
@@ -3909,29 +4062,17 @@ v8_source_set("v8_base_without_compiler") {
       "src/diagnostics/mips/disasm-mips.cc",
       "src/diagnostics/mips/unwinder-mips.cc",
       "src/execution/mips/frame-constants-mips.cc",
-      "src/execution/mips/frame-constants-mips.h",
       "src/execution/mips/simulator-mips.cc",
-      "src/execution/mips/simulator-mips.h",
       "src/regexp/mips/regexp-macro-assembler-mips.cc",
-      "src/regexp/mips/regexp-macro-assembler-mips.h",
-      "src/wasm/baseline/mips/liftoff-assembler-mips.h",
     ]
   } else if (v8_current_cpu == "mips64" || v8_current_cpu == "mips64el") {
     sources += [  ### gcmole(arch:mips64el) ###
-      "src/baseline/mips64/baseline-assembler-mips64-inl.h",
-      "src/baseline/mips64/baseline-compiler-mips64-inl.h",
-      "src/codegen/mips64/assembler-mips64-inl.h",
       "src/codegen/mips64/assembler-mips64.cc",
-      "src/codegen/mips64/assembler-mips64.h",
       "src/codegen/mips64/constants-mips64.cc",
-      "src/codegen/mips64/constants-mips64.h",
       "src/codegen/mips64/cpu-mips64.cc",
       "src/codegen/mips64/interface-descriptors-mips64.cc",
       "src/codegen/mips64/macro-assembler-mips64.cc",
-      "src/codegen/mips64/macro-assembler-mips64.h",
-      "src/codegen/mips64/register-mips64.h",
       "src/compiler/backend/mips64/code-generator-mips64.cc",
-      "src/compiler/backend/mips64/instruction-codes-mips64.h",
       "src/compiler/backend/mips64/instruction-scheduler-mips64.cc",
       "src/compiler/backend/mips64/instruction-selector-mips64.cc",
       "src/debug/mips64/debug-mips64.cc",
@@ -3939,126 +4080,77 @@ v8_source_set("v8_base_without_compiler") {
       "src/diagnostics/mips64/disasm-mips64.cc",
       "src/diagnostics/mips64/unwinder-mips64.cc",
       "src/execution/mips64/frame-constants-mips64.cc",
-      "src/execution/mips64/frame-constants-mips64.h",
       "src/execution/mips64/simulator-mips64.cc",
-      "src/execution/mips64/simulator-mips64.h",
       "src/regexp/mips64/regexp-macro-assembler-mips64.cc",
-      "src/regexp/mips64/regexp-macro-assembler-mips64.h",
-      "src/wasm/baseline/mips64/liftoff-assembler-mips64.h",
     ]
   } else if (v8_current_cpu == "ppc") {
     sources += [  ### gcmole(arch:ppc) ###
-      "src/baseline/ppc/baseline-assembler-ppc-inl.h",
-      "src/baseline/ppc/baseline-compiler-ppc-inl.h",
-      "src/codegen/ppc/assembler-ppc-inl.h",
       "src/codegen/ppc/assembler-ppc.cc",
-      "src/codegen/ppc/assembler-ppc.h",
       "src/codegen/ppc/constants-ppc.cc",
-      "src/codegen/ppc/constants-ppc.h",
       "src/codegen/ppc/cpu-ppc.cc",
       "src/codegen/ppc/interface-descriptors-ppc.cc",
       "src/codegen/ppc/macro-assembler-ppc.cc",
-      "src/codegen/ppc/macro-assembler-ppc.h",
-      "src/codegen/ppc/register-ppc.h",
       "src/compiler/backend/ppc/code-generator-ppc.cc",
-      "src/compiler/backend/ppc/instruction-codes-ppc.h",
       "src/compiler/backend/ppc/instruction-scheduler-ppc.cc",
       "src/compiler/backend/ppc/instruction-selector-ppc.cc",
       "src/compiler/backend/ppc/unwinding-info-writer-ppc.cc",
-      "src/compiler/backend/ppc/unwinding-info-writer-ppc.h",
       "src/debug/ppc/debug-ppc.cc",
       "src/deoptimizer/ppc/deoptimizer-ppc.cc",
       "src/diagnostics/ppc/disasm-ppc.cc",
       "src/diagnostics/ppc/eh-frame-ppc.cc",
       "src/diagnostics/ppc/unwinder-ppc.cc",
       "src/execution/ppc/frame-constants-ppc.cc",
-      "src/execution/ppc/frame-constants-ppc.h",
       "src/execution/ppc/simulator-ppc.cc",
-      "src/execution/ppc/simulator-ppc.h",
       "src/regexp/ppc/regexp-macro-assembler-ppc.cc",
-      "src/regexp/ppc/regexp-macro-assembler-ppc.h",
-      "src/wasm/baseline/ppc/liftoff-assembler-ppc.h",
     ]
   } else if (v8_current_cpu == "ppc64") {
     sources += [  ### gcmole(arch:ppc64) ###
-      "src/baseline/ppc/baseline-assembler-ppc-inl.h",
-      "src/baseline/ppc/baseline-compiler-ppc-inl.h",
-      "src/codegen/ppc/assembler-ppc-inl.h",
       "src/codegen/ppc/assembler-ppc.cc",
-      "src/codegen/ppc/assembler-ppc.h",
       "src/codegen/ppc/constants-ppc.cc",
-      "src/codegen/ppc/constants-ppc.h",
       "src/codegen/ppc/cpu-ppc.cc",
       "src/codegen/ppc/interface-descriptors-ppc.cc",
       "src/codegen/ppc/macro-assembler-ppc.cc",
-      "src/codegen/ppc/macro-assembler-ppc.h",
-      "src/codegen/ppc/register-ppc.h",
       "src/compiler/backend/ppc/code-generator-ppc.cc",
-      "src/compiler/backend/ppc/instruction-codes-ppc.h",
       "src/compiler/backend/ppc/instruction-scheduler-ppc.cc",
       "src/compiler/backend/ppc/instruction-selector-ppc.cc",
       "src/compiler/backend/ppc/unwinding-info-writer-ppc.cc",
-      "src/compiler/backend/ppc/unwinding-info-writer-ppc.h",
       "src/debug/ppc/debug-ppc.cc",
       "src/deoptimizer/ppc/deoptimizer-ppc.cc",
       "src/diagnostics/ppc/disasm-ppc.cc",
       "src/diagnostics/ppc/eh-frame-ppc.cc",
       "src/diagnostics/ppc/unwinder-ppc.cc",
       "src/execution/ppc/frame-constants-ppc.cc",
-      "src/execution/ppc/frame-constants-ppc.h",
       "src/execution/ppc/simulator-ppc.cc",
-      "src/execution/ppc/simulator-ppc.h",
       "src/regexp/ppc/regexp-macro-assembler-ppc.cc",
-      "src/regexp/ppc/regexp-macro-assembler-ppc.h",
-      "src/wasm/baseline/ppc/liftoff-assembler-ppc.h",
     ]
   } else if (v8_current_cpu == "s390" || v8_current_cpu == "s390x") {
     sources += [  ### gcmole(arch:s390) ###
-      "src/baseline/s390/baseline-assembler-s390-inl.h",
-      "src/baseline/s390/baseline-compiler-s390-inl.h",
-      "src/codegen/s390/assembler-s390-inl.h",
       "src/codegen/s390/assembler-s390.cc",
-      "src/codegen/s390/assembler-s390.h",
       "src/codegen/s390/constants-s390.cc",
-      "src/codegen/s390/constants-s390.h",
       "src/codegen/s390/cpu-s390.cc",
       "src/codegen/s390/interface-descriptors-s390.cc",
       "src/codegen/s390/macro-assembler-s390.cc",
-      "src/codegen/s390/macro-assembler-s390.h",
-      "src/codegen/s390/register-s390.h",
       "src/compiler/backend/s390/code-generator-s390.cc",
-      "src/compiler/backend/s390/instruction-codes-s390.h",
       "src/compiler/backend/s390/instruction-scheduler-s390.cc",
       "src/compiler/backend/s390/instruction-selector-s390.cc",
       "src/compiler/backend/s390/unwinding-info-writer-s390.cc",
-      "src/compiler/backend/s390/unwinding-info-writer-s390.h",
       "src/debug/s390/debug-s390.cc",
       "src/deoptimizer/s390/deoptimizer-s390.cc",
       "src/diagnostics/s390/disasm-s390.cc",
       "src/diagnostics/s390/eh-frame-s390.cc",
       "src/diagnostics/s390/unwinder-s390.cc",
       "src/execution/s390/frame-constants-s390.cc",
-      "src/execution/s390/frame-constants-s390.h",
       "src/execution/s390/simulator-s390.cc",
-      "src/execution/s390/simulator-s390.h",
       "src/regexp/s390/regexp-macro-assembler-s390.cc",
-      "src/regexp/s390/regexp-macro-assembler-s390.h",
-      "src/wasm/baseline/s390/liftoff-assembler-s390.h",
     ]
   } else if (v8_current_cpu == "riscv64") {
     sources += [  ### gcmole(arch:riscv64) ###
-      "src/codegen/riscv64/assembler-riscv64-inl.h",
       "src/codegen/riscv64/assembler-riscv64.cc",
-      "src/codegen/riscv64/assembler-riscv64.h",
       "src/codegen/riscv64/constants-riscv64.cc",
-      "src/codegen/riscv64/constants-riscv64.h",
       "src/codegen/riscv64/cpu-riscv64.cc",
       "src/codegen/riscv64/interface-descriptors-riscv64.cc",
       "src/codegen/riscv64/macro-assembler-riscv64.cc",
-      "src/codegen/riscv64/macro-assembler-riscv64.h",
-      "src/codegen/riscv64/register-riscv64.h",
       "src/compiler/backend/riscv64/code-generator-riscv64.cc",
-      "src/compiler/backend/riscv64/instruction-codes-riscv64.h",
       "src/compiler/backend/riscv64/instruction-scheduler-riscv64.cc",
       "src/compiler/backend/riscv64/instruction-selector-riscv64.cc",
       "src/debug/riscv64/debug-riscv64.cc",
@@ -4066,12 +4158,8 @@ v8_source_set("v8_base_without_compiler") {
       "src/diagnostics/riscv64/disasm-riscv64.cc",
       "src/diagnostics/riscv64/unwinder-riscv64.cc",
       "src/execution/riscv64/frame-constants-riscv64.cc",
-      "src/execution/riscv64/frame-constants-riscv64.h",
       "src/execution/riscv64/simulator-riscv64.cc",
-      "src/execution/riscv64/simulator-riscv64.h",
       "src/regexp/riscv64/regexp-macro-assembler-riscv64.cc",
-      "src/regexp/riscv64/regexp-macro-assembler-riscv64.h",
-      "src/wasm/baseline/riscv64/liftoff-assembler-riscv64.h",
     ]
   }
 
@@ -4097,6 +4185,7 @@ v8_source_set("v8_base_without_compiler") {
     ":generate_bytecode_builtins_list",
     ":run_torque",
     ":v8_headers",
+    ":v8_internal_headers",
     ":v8_maybe_icu",
   ]
 
@@ -4110,43 +4199,18 @@ v8_source_set("v8_base_without_compiler") {
     sources -= [
       "src/builtins/builtins-intl.cc",
       "src/objects/intl-objects.cc",
-      "src/objects/intl-objects.h",
-      "src/objects/js-break-iterator-inl.h",
       "src/objects/js-break-iterator.cc",
-      "src/objects/js-break-iterator.h",
-      "src/objects/js-collator-inl.h",
       "src/objects/js-collator.cc",
-      "src/objects/js-collator.h",
-      "src/objects/js-date-time-format-inl.h",
       "src/objects/js-date-time-format.cc",
-      "src/objects/js-date-time-format.h",
-      "src/objects/js-display-names-inl.h",
       "src/objects/js-display-names.cc",
-      "src/objects/js-display-names.h",
-      "src/objects/js-list-format-inl.h",
       "src/objects/js-list-format.cc",
-      "src/objects/js-list-format.h",
-      "src/objects/js-locale-inl.h",
       "src/objects/js-locale.cc",
-      "src/objects/js-locale.h",
-      "src/objects/js-number-format-inl.h",
       "src/objects/js-number-format.cc",
-      "src/objects/js-number-format.h",
-      "src/objects/js-plural-rules-inl.h",
       "src/objects/js-plural-rules.cc",
-      "src/objects/js-plural-rules.h",
-      "src/objects/js-relative-time-format-inl.h",
       "src/objects/js-relative-time-format.cc",
-      "src/objects/js-relative-time-format.h",
-      "src/objects/js-segment-iterator-inl.h",
       "src/objects/js-segment-iterator.cc",
-      "src/objects/js-segment-iterator.h",
-      "src/objects/js-segmenter-inl.h",
       "src/objects/js-segmenter.cc",
-      "src/objects/js-segmenter.h",
-      "src/objects/js-segments-inl.h",
       "src/objects/js-segments.cc",
-      "src/objects/js-segments.h",
       "src/runtime/runtime-intl.cc",
       "src/strings/char-predicates.cc",
     ]
@@ -5540,7 +5604,7 @@ if (v8_enable_webassembly) {
     deps = [
       ":generate_bytecode_builtins_list",
       ":run_torque",
-      ":v8_libbase",
+      ":v8_internal_headers",
       ":v8_shared_internal_headers",
       ":v8_tracing",
     ]
@@ -5619,6 +5683,7 @@ if (v8_enable_webassembly) {
     deps = [
       ":generate_bytecode_builtins_list",
       ":run_torque",
+      ":v8_internal_headers",
       ":v8_tracing",
       ":wasm_test_common",
     ]
diff --git a/test/cctest/BUILD.gn b/test/cctest/BUILD.gn
index 68f8569097..6e5bd4d50d 100644
--- a/test/cctest/BUILD.gn
+++ b/test/cctest/BUILD.gn
@@ -57,7 +57,7 @@ v8_header_set("cctest_headers") {
     "../..:internal_config_base",
   ]
 
-  deps = [ "../..:v8_config_headers" ]
+  deps = [ "../..:v8_internal_headers" ]
 
   sources = [ "cctest.h" ]
 }
diff --git a/test/wasm-api-tests/BUILD.gn b/test/wasm-api-tests/BUILD.gn
index 5bc48f57da..4d6d7b232a 100644
--- a/test/wasm-api-tests/BUILD.gn
+++ b/test/wasm-api-tests/BUILD.gn
@@ -8,6 +8,7 @@ v8_executable("wasm_api_tests") {
   testonly = true
 
   deps = [
+    "../..:v8_internal_headers",
     "../..:v8_maybe_icu",
     "../..:wee8",
     "//build/win:default_exe_manifest",
@@ -15,9 +16,7 @@ v8_executable("wasm_api_tests") {
     "//testing/gtest",
   ]
 
-  data_deps = [
-    "../../tools:v8_testrunner",
-  ]
+  data_deps = [ "../../tools:v8_testrunner" ]
 
   data = [
     "testcfg.py",
diff --git a/tools/debug_helper/BUILD.gn b/tools/debug_helper/BUILD.gn
index 54cd3b7a4c..2256df1f55 100644
--- a/tools/debug_helper/BUILD.gn
+++ b/tools/debug_helper/BUILD.gn
@@ -96,6 +96,7 @@ v8_component("v8_debug_helper") {
     "../..:generate_bytecode_builtins_list",
     "../..:run_torque",
     "../..:v8_headers",
+    "../..:v8_internal_headers",
     "../..:v8_libbase",
     "../..:v8_shared_internal_headers",
     "../..:v8_tracing",
-- 
2.35.1

